<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•°æ®åˆ†æå¸ˆWebåº”ç”¨</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script>
    // Tailwindé…ç½®
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            accent: '#722ED1',
            neutral: '#F5F7FA',
            'neutral-dark': '#1D2129',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            'card': '0 4px 20px rgba(0, 0, 0, 0.08)',
            'card-hover': '0 8px 30px rgba(0, 0, 0, 0.12)',
          }
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      .transition-all-300 {
        transition: all 300ms ease-in-out;
      }
      .text-balance {
        text-wrap: balance;
      }
      .animate-fade-in {
        animation: fadeIn 0.3s ease-in-out;
      }
      .animate-slide-up {
        animation: slideUp 0.4s ease-out;
      }
      .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="bg-neutral min-h-screen font-sans text-neutral-dark">
  <div id="root" class="w-full"></div>

  <script>
    // å·¥å…·å‡½æ•°
    const calculateBasicStats = function(data) {
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const sortedData = [...data].sort((a, b) => a - b);
      const median = n % 2 === 0 
        ? (sortedData[n/2 - 1] + sortedData[n/2]) / 2 
        : sortedData[Math.floor(n/2)];
      
      // è®¡ç®—æ–¹å·®å’Œæ ‡å‡†å·®
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      const stdDev = Math.sqrt(variance);
      
      // è®¡ç®—ä¼—æ•°
      const frequencyMap = {};
      data.forEach(val => {
        frequencyMap[val] = (frequencyMap[val] || 0) + 1;
      });
      let mode = sortedData[0];
      let maxFreq = 1;
      Object.entries(frequencyMap).forEach(([val, freq]) => {
        if (freq > maxFreq) {
          maxFreq = freq;
          mode = parseFloat(val);
        }
      });
      
      // è®¡ç®—ååº¦å’Œå³°åº¦
      const skewnessNumerator = data.reduce((sum, val) => sum + Math.pow(val - mean, 3), 0) / n;
      const skewness = skewnessNumerator / Math.pow(stdDev, 3);
      
      const kurtosisNumerator = data.reduce((sum, val) => sum + Math.pow(val - mean, 4), 0) / n;
      const kurtosis = kurtosisNumerator / Math.pow(stdDev, 4) - 3;
      
      return {
        mean,
        median,
        mode,
        variance,
        stdDev,
        skewness,
        kurtosis
      };
    };

    const generateDistributionData = function(params) {
      const { type, params: distParams, sampleSize } = params;
      const result = [];
      
      switch (type) {
        case 'normal':
          const { mean = 0, stdDev = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            // Box-Mullerå˜æ¢ç”Ÿæˆæ­£æ€åˆ†å¸ƒéšæœºæ•°
            let u1 = 0, u2 = 0;
            while (u1 === 0) u1 = Math.random();
            while (u2 === 0) u2 = Math.random();
            const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2);
            result.push(z0 * stdDev + mean);
          }
          break;
          
        case 'uniform':
          const { min = 0, max = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            result.push(min + Math.random() * (max - min));
          }
          break;
          
        case 'exponential':
          const { lambda = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            result.push(-Math.log(Math.random()) / lambda);
          }
          break;
          
        case 'poisson':
          const { rate = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            let k = 0;
            let p = 1;
            const L = Math.exp(-rate);
            do {
              k++;
              p *= Math.random();
            } while (p > L);
            result.push(k - 1);
          }
          break;
      }
      
      return result;
    };

    const parseCSVContent = function(content) {
      try {
        // å‡è®¾CSVæ ¼å¼ï¼Œç¬¬ä¸€åˆ—æ˜¯æ•°æ®
        const lines = content.split('\n').filter(line => line.trim() !== '');
        return lines.slice(1) // è·³è¿‡æ ‡é¢˜è¡Œ
          .map(line => {
            const values = line.split(',');
            return parseFloat(values[0]);
          })
          .filter(value => !isNaN(value));
      } catch (error) {
        console.error('CSVè§£æé”™è¯¯:', error);
        throw new Error('CSVæ–‡ä»¶è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚');
      }
    };

    const calculateMLE = function(data) {
      // å‡è®¾æ­£æ€åˆ†å¸ƒçš„MLEå‚æ•°ä¼°è®¡
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      
      return {
        mean,
        variance,
        stdDev: Math.sqrt(variance)
      };
    };

    const calculateMoM = function(data) {
      // å‡è®¾æ­£æ€åˆ†å¸ƒçš„MoMå‚æ•°ä¼°è®¡
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      
      return {
        mean,
        variance,
        stdDev: Math.sqrt(variance)
      };
    };

    // é˜¿é‡Œäº‘APIè°ƒç”¨å‡½æ•° - å®é™…è¿æ¥åˆ°é˜¿é‡Œäº‘APIï¼Œéæ¨¡æ‹Ÿ
    // æ”¯æŒä¸¤ç§è°ƒç”¨æ–¹å¼ï¼š1. æ ‡å‡†DashScope API 2. OpenAIå…¼å®¹æ¥å£
    const callAliyunAPI = async function(prompt, apiKey, model) {
      try {
        if (!apiKey) {
          throw new Error('è¯·å…ˆé…ç½®é˜¿é‡Œäº‘APIå¯†é’¥ï¼');
        }
        
        console.log('APIè°ƒç”¨ä¿¡æ¯:', { model, promptLength: prompt.length });
        
        // ä½¿ç”¨æ ‡å‡†DashScope APIæ–¹å¼ (å½“å‰å®ç°)
        // é˜¿é‡Œäº‘å®˜æ–¹æ–‡æ¡£ç¡®è®¤çš„æ ‡å‡†APIåœ°å€
        const endpoint = 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation';
        console.log('ä½¿ç”¨æ ‡å‡†DashScope APIåœ°å€:', endpoint);
        
        // æ„å»ºè¯·æ±‚ä½“ - ä¸¥æ ¼æŒ‰ç…§é˜¿é‡Œäº‘DashScope APIå®˜æ–¹æ–‡æ¡£æ ¼å¼
        // å‚è€ƒæ–‡æ¡£ï¼šhttps://help.aliyun.com/zh/dashscope/developer-reference/use-qwen-by-api
        const requestBody = {
          model: model,  // æ¨¡å‹åç§°ï¼Œå¦‚qwen-plus, qwen-turbo, qwen-maxç­‰
          input: {
            prompt: prompt  // ç”¨æˆ·æç¤ºæ–‡æœ¬ï¼Œæ”¯æŒå•è½®å¯¹è¯
          },
          parameters: {
            result_format: 'text',  // è¿”å›æ ¼å¼ï¼štextæˆ–json_object
            temperature: 0.8,       // æ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§ï¼ŒèŒƒå›´0-1
            top_p: 0.8              // æ§åˆ¶è¯æ±‡å¤šæ ·æ€§ï¼ŒèŒƒå›´0-1
          }
        };
        
        console.log('APIè¯·æ±‚ä½“æ ¼å¼ç¡®è®¤ - ç¬¦åˆå®˜æ–¹è§„èŒƒ:', requestBody);
        
        // æ„å»ºè¯·æ±‚å¤´ï¼ŒåŒ…å«è®¤è¯ä¿¡æ¯
        // é˜¿é‡Œäº‘DashScope APIå®˜æ–¹è¦æ±‚ä½¿ç”¨Bearerè®¤è¯æ–¹å¼
        const headers = {
          'Content-Type': 'application/json',  // å¿…é¡»è®¾ç½®ä¸ºapplication/json
          'Authorization': `Bearer ${apiKey}`  // Bearer + ç©ºæ ¼ + API Keyæ ¼å¼
        };
        
        console.log('å¼€å§‹å‘é€å®é™…APIè¯·æ±‚åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨...');
        console.log('è¯·æ±‚åœ°å€:', endpoint);
        console.log('è¯·æ±‚å¤´éªŒè¯ - ç¬¦åˆå®˜æ–¹è¦æ±‚:', headers);
        
        // æ·»åŠ è¯·æ±‚è¶…æ—¶å¤„ç†
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 30000); // 30ç§’è¶…æ—¶
        
        try {
          // å‘é€å®é™…çš„APIè¯·æ±‚
          console.log('æ­£åœ¨å‘é€çœŸå®APIè¯·æ±‚...');
          const response = await fetch(endpoint, {
            method: 'POST',
            headers: headers,
            body: JSON.stringify(requestBody),
            signal: controller.signal,
            credentials: 'omit' // ä¸å‘é€cookiesï¼Œé¿å…è·¨åŸŸé—®é¢˜
          });
          
          clearTimeout(timeoutId);
          
          console.log('APIå“åº”çŠ¶æ€:', response.status);
          
          // è®°å½•å“åº”å¤´ä¿¡æ¯ï¼Œå¸®åŠ©è°ƒè¯•
          const responseHeaders = Object.fromEntries(response.headers.entries());
          console.log('APIå“åº”å¤´:', responseHeaders);
          
          // æ£€æŸ¥CORSç›¸å…³å“åº”å¤´
          console.log('CORSå…è®¸çš„æ¥æº:', responseHeaders['access-control-allow-origin']);
          console.log('CORSå…è®¸çš„æ–¹æ³•:', responseHeaders['access-control-allow-methods']);
          
          if (!response.ok) {
            // è·å–è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
            let errorDetail = '';
            try {
              const errorData = await response.json();
              console.log('APIé”™è¯¯å“åº”æ•°æ®:', errorData);
              errorDetail = errorData.message || errorData.error_msg || '';
            } catch (e) {
              // å¦‚æœæ— æ³•è§£æJSONï¼Œå°±ä½¿ç”¨é»˜è®¤é”™è¯¯ä¿¡æ¯
              console.error('æ— æ³•è§£æé”™è¯¯å“åº”:', e);
              // å°è¯•è·å–åŸå§‹æ–‡æœ¬å“åº”
              try {
                const rawText = await response.text();
                console.log('åŸå§‹é”™è¯¯å“åº”:', rawText);
                errorDetail = rawText;
              } catch (textError) {
                console.error('æ— æ³•è·å–åŸå§‹å“åº”:', textError);
              }
            }
            
            const errorMessage = `APIè°ƒç”¨å¤±è´¥: ${response.status} ${response.statusText}${errorDetail ? ' - ' + errorDetail : ''}`;
            throw new Error(errorMessage);
          }
          
          // è§£æå“åº”
          const data = await response.json();
          console.log('APIå“åº”æ•°æ®ç»“æ„:', Object.keys(data));
          console.log('å®Œæ•´APIå“åº”æ•°æ®:', data);
          
          // æ£€æŸ¥å“åº”ç»“æ„
          if (!data.output || !data.output.text) {
            // å°è¯•ä»å…¶ä»–å¯èƒ½çš„å­—æ®µè·å–å“åº”
            if (data.result) {
              console.log('ä»resultå­—æ®µè·å–å“åº”');
              return data.result;
            } else if (data.text) {
              console.log('ä»textå­—æ®µè·å–å“åº”');
              return data.text;
            } else {
              throw new Error('APIè¿”å›æ ¼å¼é”™è¯¯: ç¼ºå°‘output.textã€resultæˆ–textå­—æ®µ');
            }
          }
          
          return data.output.text;
        } catch (fetchError) {
          clearTimeout(timeoutId);
          
          // ä¸“é—¨å¤„ç†fetchç½‘ç»œé”™è¯¯
          console.error('ç½‘ç»œè¯·æ±‚é”™è¯¯:', fetchError.name, fetchError.message);
          
          if (fetchError.name === 'AbortError') {
            throw new Error('APIè¯·æ±‚è¶…æ—¶ï¼Œè¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®šã€‚');
          } else if (fetchError.message === 'Failed to fetch') {
            throw new Error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œæ— æ³•è¿æ¥åˆ°é˜¿é‡Œäº‘APIæœåŠ¡å™¨ã€‚\n\nå¯èƒ½åŸå› ï¼š\n1. æ‚¨çš„ç½‘ç»œç¯å¢ƒé™åˆ¶äº†å¯¹é˜¿é‡Œäº‘APIçš„è®¿é—®\n2. æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥é˜»æ­¢äº†è·¨åŸŸè¯·æ±‚\n3. é˜²ç«å¢™æˆ–ä»£ç†æœåŠ¡å™¨é™åˆ¶äº†APIè®¿é—®\n4. é˜¿é‡Œäº‘APIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨\n\nè§£å†³æ–¹æ¡ˆï¼š\n1. å°è¯•ä½¿ç”¨ä¸åŒçš„ç½‘ç»œç¯å¢ƒ\n2. ç¡®è®¤æ‚¨çš„æµè§ˆå™¨å…è®¸è·¨åŸŸè¯·æ±‚\n3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®æ˜¯å¦å…è®¸è®¿é—®dashscope.aliyuncs.com\n4. ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®https://dashscope.aliyuncs.comæµ‹è¯•è¿æ¥');
          } else {
            throw fetchError;
          }
        }
      } catch (error) {
        console.error('APIè°ƒç”¨é”™è¯¯è¯¦æƒ…:', error);
        
        // æ ¹æ®ä¸åŒé”™è¯¯ç±»å‹æä¾›æ›´å…·ä½“çš„æç¤ºå’Œè§£å†³æ–¹æ¡ˆ
        if (error.message.includes('401')) {
          throw new Error('APIå¯†é’¥æ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·æ£€æŸ¥æ‚¨çš„APIå¯†é’¥è®¾ç½®ã€‚\n\nè§£å†³æ–¹æ¡ˆ:\n1. ç¡®è®¤API Keyè¾“å…¥æ­£ç¡®\n2. æ£€æŸ¥API Keyæ˜¯å¦å·²è¿‡æœŸ\n3. ç¡®ä¿å·²å¼€é€šé€šä¹‰åƒé—®æœåŠ¡\n4. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°æ£€æŸ¥API Keyæƒé™');
        } else if (error.message.includes('403')) {
          throw new Error('æ‚¨æ²¡æœ‰æƒé™è®¿é—®æ­¤æœåŠ¡ï¼Œè¯·ç¡®ä¿å·²å¼€é€šå¤§æ¨¡å‹æœåŠ¡å¹¶é…ç½®äº†æ­£ç¡®çš„æƒé™ã€‚\n\nè§£å†³æ–¹æ¡ˆ:\n1. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°ç¡®è®¤å·²å¼€é€šé€šä¹‰åƒé—®æœåŠ¡\n2. æ£€æŸ¥è´¦æˆ·æ˜¯å¦æœ‰å¯ç”¨çš„è°ƒç”¨é¢åº¦\n3. ç¡®è®¤æ‚¨é€‰æ‹©çš„æ¨¡å‹ä¸æ‚¨çš„æƒé™åŒ¹é…\n4. å°è¯•ä½¿ç”¨å…è´¹é¢åº¦çš„æ¨¡å‹å¦‚qwen-turbo');
        } else if (error.message.includes('429')) {
          throw new Error('APIè°ƒç”¨é¢‘ç‡è¿‡é«˜ï¼Œè¯·ç¨åå†è¯•ã€‚\n\nè§£å†³æ–¹æ¡ˆ:\n1. ç­‰å¾…1-2åˆ†é’Ÿåå†å°è¯•è°ƒç”¨\n2. å‡å°‘è°ƒç”¨é¢‘ç‡\n3. è€ƒè™‘å‡çº§åˆ°æ›´é«˜é…é¢çš„æœåŠ¡');
        } else if (error.message.includes('NetworkError')) {
          throw new Error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥ã€‚\n\nè§£å†³æ–¹æ¡ˆ:\n1. ç¡®è®¤æ‚¨çš„ç½‘ç»œè¿æ¥æ­£å¸¸\n2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®æ˜¯å¦é˜»æ­¢äº†APIè¯·æ±‚\n3. å°è¯•ä½¿ç”¨VPNæˆ–åˆ‡æ¢ç½‘ç»œ');
        } else if (error.message.includes('format error')) {
          throw new Error('APIè¯·æ±‚æ ¼å¼é”™è¯¯ï¼Œè¯·ç¡®ä¿æ‰€æœ‰å‚æ•°æ ¼å¼æ­£ç¡®ã€‚\n\nè§£å†³æ–¹æ¡ˆ:\n1. æ£€æŸ¥API Keyæ ¼å¼\n2. ç¡®è®¤é€‰æ‹©çš„æ¨¡å‹åç§°æ­£ç¡®\n3. åˆ·æ–°é¡µé¢åé‡æ–°å°è¯•');
        } else {
          throw new Error('ä¸å¤§æ¨¡å‹é€šä¿¡å¤±è´¥ï¼š' + error.message + '\n\né€šç”¨è§£å†³æ–¹æ¡ˆ:\n1. ç¡®è®¤API Keyè¾“å…¥æ­£ç¡®\n2. æ£€æŸ¥ç½‘ç»œè¿æ¥\n3. ç¡®ä¿å·²å¼€é€šé˜¿é‡Œäº‘é€šä¹‰åƒé—®æœåŠ¡\n4. ç¡®è®¤è´¦æˆ·æœ‰å¯ç”¨çš„è°ƒç”¨é¢åº¦\n5. å°è¯•é€‰æ‹©å…¶ä»–æ¨¡å‹ï¼ˆå¦‚qwen-turboï¼‰\n6. å¦‚æœåœ¨ä¼ä¸šç½‘ç»œç¯å¢ƒä¸­ï¼Œè¯·ç¡®è®¤ç½‘ç»œç­–ç•¥å…è®¸è®¿é—®é˜¿é‡Œäº‘API\n7. æŒ‰F12æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ŒæŸ¥çœ‹è¯¦ç»†çš„APIè°ƒç”¨æ—¥å¿—');
        }
      }
    };

    // é˜¿é‡Œäº‘APIé…ç½®ç»„ä»¶
    const AliyunAPIConfig = function() {
      const [apiKey, setApiKey] = React.useState('');
      const [model, setModel] = React.useState('qwen-plus');
      const [saveSuccess, setSaveSuccess] = React.useState(false);
      
      // åŠ è½½å·²ä¿å­˜çš„é…ç½®
      React.useEffect(() => {
        const savedConfig = localStorage.getItem('aliyunApiConfig');
        if (savedConfig) {
          const { apiKey: savedKey, model: savedModel } = JSON.parse(savedConfig);
          setApiKey(savedKey || '');
          setModel(savedModel || 'qwen-plus');
        }
      }, []);
      
      // ä¿å­˜é…ç½®
      const handleSave = function() {
        const config = { apiKey, model };
        localStorage.setItem('aliyunApiConfig', JSON.stringify(config));
        setSaveSuccess(true);
        setTimeout(() => setSaveSuccess(false), 3000);
      };
      
      return React.createElement(
        'div',
        { className: 'bg-white rounded-xl shadow-card p-6 mb-6 animate-fade-in' },
        React.createElement('h3', { className: 'text-lg font-bold mb-4 flex items-center' },
          React.createElement('i', { className: 'fa fa-cloud text-primary mr-2' }),
          'é˜¿é‡Œäº‘APIé…ç½®'
        ),
        
        React.createElement(
          'div',
          { className: 'space-y-4' },
          
          // API Keyè¾“å…¥
          React.createElement(
            'div',
            null,
            React.createElement('label', { htmlFor: 'apiKey', className: 'block text-sm font-medium text-gray-700 mb-1' }, 'API Key'),
            React.createElement('input', {
              type: 'text',
              id: 'apiKey',
              value: apiKey,
              onChange: (e) => setApiKey(e.target.value),
              placeholder: 'è¯·è¾“å…¥æ‚¨çš„é˜¿é‡Œäº‘API Key',
              className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all-300'
            })
          ),
          

          
          // æ¨¡å‹é€‰æ‹©
          React.createElement(
            'div',
            null,
            React.createElement('label', { htmlFor: 'model', className: 'block text-sm font-medium text-gray-700 mb-1' }, 'æ¨¡å‹é€‰æ‹©'),
            React.createElement('select', {
              id: 'model',
              value: model,
              onChange: (e) => setModel(e.target.value),
              className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all-300'
            },
              React.createElement('option', { value: 'qwen-plus' }, 'é€šä¹‰åƒé—® Plus'),
              React.createElement('option', { value: 'qwen-max' }, 'é€šä¹‰åƒé—® Max'),
              React.createElement('option', { value: 'qwen-turbo' }, 'é€šä¹‰åƒé—® Turbo')
            )
          ),
          
          // ä¿å­˜æŒ‰é’®
          React.createElement(
            'div',
            null,
            React.createElement('button', {
              onClick: handleSave,
              className: 'bg-primary hover:bg-primary/90 text-white font-medium py-2 px-6 rounded-lg transition-all-300 flex items-center'
            },
              React.createElement('i', { className: 'fa fa-save mr-2' }),
              'ä¿å­˜é…ç½®'
            )
          ),
          
          // ä¿å­˜æˆåŠŸæç¤º
          saveSuccess && React.createElement(
            'div',
            { className: 'bg-green-50 border border-green-200 rounded-lg p-3 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-green-500 mr-2' }),
            React.createElement('span', { className: 'text-green-700 text-sm' }, 'é…ç½®ä¿å­˜æˆåŠŸï¼')
          ),
          
          // æç¤ºä¿¡æ¯
          React.createElement(
            'div',
            { className: 'bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm' },
            React.createElement('p', { className: 'text-blue-700 mb-2' }, 'ğŸ’¡ æç¤ºï¼š'),
            React.createElement('ul', { className: 'list-disc list-inside text-blue-600 space-y-1' },
              React.createElement('li', null, 'è¯·ç¡®ä¿æ‚¨å·²åœ¨é˜¿é‡Œäº‘å®˜ç½‘å¼€é€šäº†å¤§æ¨¡å‹æœåŠ¡'),
              React.createElement('li', null, 'ä»…éœ€è¦API Keyå³å¯è¿æ¥é˜¿é‡Œäº‘DashScope API'),
              React.createElement('li', null, 'API Keyä»…ä¿å­˜åœ¨æ‚¨çš„æœ¬åœ°æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨'),
              React.createElement('li', null, 'å¦‚éœ€ä¿®æ”¹å·²ä¿å­˜çš„é…ç½®ï¼Œé‡æ–°è¾“å…¥å¹¶ç‚¹å‡»ä¿å­˜æŒ‰é’®å³å¯')
            )
          )
        )
      );
    };

    // å¤§æ¨¡å‹å¯¹è¯ç»„ä»¶
    const AIModelChat = function({ analysisResult, data }) {
      const [messages, setMessages] = React.useState([]);
      const [inputMessage, setInputMessage] = React.useState('');
      const [isLoading, setIsLoading] = React.useState(false);
      const [config, setConfig] = React.useState(null);
      const [apiStatus, setApiStatus] = React.useState('ready'); // ready, error, configuring
      
      // åŠ è½½APIé…ç½®
      React.useEffect(() => {
        const savedConfig = localStorage.getItem('aliyunApiConfig');
        if (savedConfig) {
          const parsedConfig = JSON.parse(savedConfig);
          setConfig(parsedConfig);
          // æ£€æŸ¥é…ç½®å®Œæ•´æ€§ï¼Œåªéœ€API Key
          if (!parsedConfig.apiKey) {
            setApiStatus('error');
          } else {
            setApiStatus('ready');
          }
        } else {
          setApiStatus('configuring');
        }
      }, []);
      
      // å¤„ç†å‘é€æ¶ˆæ¯
      const handleSendMessage = async function() {
        if (!inputMessage.trim() || isLoading) return;
        
        // æ£€æŸ¥æ˜¯å¦é…ç½®äº†APIï¼Œåªéœ€API Key
        if (!config?.apiKey) {
          setApiStatus('error');
          alert('è¯·å…ˆé…ç½®é˜¿é‡Œäº‘APIå¯†é’¥ï¼\n\næç¤ºï¼šç‚¹å‡»å³ä¸Šè§’"è®¾ç½®"æŒ‰é’®ï¼Œç„¶åè¾“å…¥æ‚¨çš„API Keyã€‚');
          return;
        }
        
        const userMessage = inputMessage.trim();
        const newMessages = [...messages, { role: 'user', content: userMessage }];
        setMessages(newMessages);
        setInputMessage('');
        setIsLoading(true);
        
        try {
          // æ„å»ºå®Œæ•´çš„æç¤ºï¼ŒåŒ…å«æ•°æ®åˆ†æç»“æœ
          let fullPrompt = userMessage;
          
          if (data.length > 0 && analysisResult) {
            fullPrompt += "\n\næˆ‘çš„æ•°æ®åˆ†æç»“æœå¦‚ä¸‹ï¼š";
            fullPrompt += "\n- æ•°æ®ç‚¹æ•°é‡ï¼š" + data.length;
            fullPrompt += "\n- å‡å€¼ï¼š" + analysisResult.mean?.toFixed(4);
            fullPrompt += "\n- ä¸­ä½æ•°ï¼š" + analysisResult.median?.toFixed(4);
            fullPrompt += "\n- æ ‡å‡†å·®ï¼š" + analysisResult.stdDev?.toFixed(4);
            fullPrompt += "\n- ååº¦ï¼š" + analysisResult.skewness?.toFixed(4);
            fullPrompt += "\n- å³°åº¦ï¼š" + analysisResult.kurtosis?.toFixed(4);
            
            if (analysisResult.mleParams && analysisResult.momParams) {
              fullPrompt += "\n\nå‚æ•°ä¼°è®¡ç»“æœï¼š";
              fullPrompt += "\n- MLEå‡å€¼ï¼š" + analysisResult.mleParams.mean?.toFixed(4);
              fullPrompt += "\n- MoMå‡å€¼ï¼š" + analysisResult.momParams.mean?.toFixed(4);
            }
          }
          
          // è°ƒç”¨é˜¿é‡Œäº‘APIï¼Œä»…ä½¿ç”¨API Keyè®¤è¯
          const response = await callAliyunAPI(fullPrompt, config.apiKey, config.model);
          
          setMessages([...newMessages, { role: 'assistant', content: response }]);
        } catch (error) {
          console.error('APIè°ƒç”¨é”™è¯¯è¯¦æƒ…:', error);
          let errorMessage = 'æŠ±æ­‰ï¼Œæˆ‘æš‚æ—¶æ— æ³•å›ç­”æ‚¨çš„é—®é¢˜ã€‚';
          
          // æ ¹æ®é”™è¯¯ç±»å‹æä¾›æ›´å…·ä½“çš„æç¤º
          if (error.message.includes('APIå¯†é’¥æ— æ•ˆ')) {
            errorMessage += '\n\né”™è¯¯ï¼šAPIå¯†é’¥æ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·æ£€æŸ¥æ‚¨çš„APIå¯†é’¥è®¾ç½®ã€‚';
          } else if (error.message.includes('æƒé™')) {
            errorMessage += '\n\né”™è¯¯ï¼šæ‚¨æ²¡æœ‰æƒé™è®¿é—®æ­¤æœåŠ¡ï¼Œè¯·ç¡®ä¿å·²å¼€é€šå¤§æ¨¡å‹æœåŠ¡å¹¶é…ç½®äº†æ­£ç¡®çš„æƒé™ã€‚';
          } else if (error.message.includes('é¢‘ç‡è¿‡é«˜')) {
            errorMessage += '\n\né”™è¯¯ï¼šAPIè°ƒç”¨é¢‘ç‡è¿‡é«˜ï¼Œè¯·ç¨åå†è¯•ã€‚';
          } else {
            errorMessage += '\n\né”™è¯¯ï¼š' + error.message;
            errorMessage += '\n\nè¯·æ£€æŸ¥ï¼š\n1. æ‚¨çš„ç½‘ç»œè¿æ¥\n2. APIå¯†é’¥æ˜¯å¦æ­£ç¡®\n3. æ˜¯å¦å·²å¼€é€šé˜¿é‡Œäº‘å¤§æ¨¡å‹æœåŠ¡\n4. å½“å‰æ˜¯å¦æœ‰å¯ç”¨çš„è°ƒç”¨é¢åº¦';
          }
          
          setMessages([...newMessages, { role: 'assistant', content: errorMessage }]);
        } finally {
          setIsLoading(false);
        }
      };
      
      // å¤„ç†æŒ‰é”®äº‹ä»¶
      const handleKeyPress = function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSendMessage();
        }
      };
      
      // é¢„è®¾é—®é¢˜å»ºè®®
      const suggestionQuestions = [
        "è¯·åˆ†ææˆ‘çš„æ•°æ®åˆ†å¸ƒç‰¹å¾",
        "åŸºäºè¿™äº›ç»Ÿè®¡ç»“æœï¼Œæˆ‘åº”è¯¥ä½¿ç”¨ä»€ä¹ˆåˆ†ææ–¹æ³•ï¼Ÿ",
        "å¦‚ä½•è§£é‡Šååº¦å’Œå³°åº¦çš„å€¼ï¼Ÿ",
        "è¿™äº›æ•°æ®é€‚åˆè¿›è¡Œå›å½’åˆ†æå—ï¼Ÿ",
        "MLEå’ŒMoMç»“æœä¸åŒè¯´æ˜äº†ä»€ä¹ˆï¼Ÿ"
      ];
      
      // æ ¹æ®APIçŠ¶æ€æ˜¾ç¤ºä¸åŒçš„æç¤º
      const renderAPIStatusMessage = () => {
        if (apiStatus === 'configuring') {
          return React.createElement(
            'div',
            { className: 'text-center text-blue-600 py-6' },
            React.createElement('i', { className: 'fa fa-info-circle text-2xl mb-2' }),
            React.createElement('p', null, 'è¯·å…ˆé…ç½®é˜¿é‡Œäº‘API'),
            React.createElement('p', { className: 'text-sm mt-1' }, 'ç‚¹å‡»å³ä¸Šè§’"è®¾ç½®"æŒ‰é’®è¾“å…¥APIå¯†é’¥'),
            React.createElement(
              'button',
              {
                onClick: () => document.getElementById('settings-tab')?.click(),
                className: 'mt-3 bg-blue-100 hover:bg-blue-200 text-blue-700 text-sm py-1 px-4 rounded-full transition-all-300'
              },
              'å‰å¾€APIè®¾ç½®'
            )
          );
        } else if (apiStatus === 'error') {
          return React.createElement(
            'div',
            { className: 'text-center text-red-600 py-6' },
            React.createElement('i', { className: 'fa fa-exclamation-circle text-2xl mb-2' }),
            React.createElement('p', null, 'APIé…ç½®ä¸å®Œæ•´æˆ–æ— æ•ˆ'),
            React.createElement('p', { className: 'text-sm mt-1' }, 'è¯·åœ¨è®¾ç½®ä¸­æ£€æŸ¥æ‚¨çš„APIå¯†é’¥'),
            React.createElement(
              'button',
              {
                onClick: () => document.getElementById('settings-tab')?.click(),
                className: 'mt-3 bg-red-100 hover:bg-red-200 text-red-700 text-sm py-1 px-4 rounded-full transition-all-300'
              },
              'ä¿®æ”¹APIè®¾ç½®'
            )
          );
        }
        return null;
      };
      
      return React.createElement(
        'div',
        { className: 'bg-white rounded-xl shadow-card p-6 h-[500px] flex flex-col animate-fade-in' },
        React.createElement('h3', { className: 'text-lg font-bold mb-4 flex items-center' },
          React.createElement('i', { className: 'fa fa-robot text-primary mr-2' }),
          'å¤§æ¨¡å‹åˆ†æåŠ©æ‰‹'
        ),
        
        // APIçŠ¶æ€æç¤º
        (apiStatus === 'configuring' || apiStatus === 'error') && renderAPIStatusMessage(),
        
        // æ¶ˆæ¯å±•ç¤ºåŒºåŸŸ
        React.createElement(
          'div',
          { className: 'flex-grow overflow-y-auto mb-4 p-3 bg-gray-50 rounded-lg' },
          messages.length === 0 && apiStatus === 'ready' ? (
            React.createElement(
              'div',
              { className: 'text-center text-gray-500 py-8' },
              React.createElement('i', { className: 'fa fa-comment-o text-4xl mb-2' }),
              React.createElement('p', null, 'å¼€å§‹ä¸AIåŠ©æ‰‹å¯¹è¯å§'),
              React.createElement('p', { className: 'text-sm mt-1' }, 'æ‚¨å¯ä»¥æé—®å…³äºæ•°æ®åˆ†æçš„ä»»ä½•é—®é¢˜')
            )
          ) : (
            messages.map((message, index) => React.createElement(
              'div',
              { 
                key: index, 
                className: `mb-4 ${message.role === 'user' ? 'flex justify-end' : 'flex justify-start'}`
              },
              React.createElement(
                'div',
                { 
                  className: message.role === 'user' 
                    ? 'bg-primary text-white rounded-lg p-3 max-w-[80%] rounded-tl-none' 
                    : 'bg-gray-200 rounded-lg p-3 max-w-[80%] rounded-tr-none'
                },
                React.createElement('p', { className: 'text-balance' }, message.content)
              )
            ))
          ),
          
          // åŠ è½½åŠ¨ç”»
          isLoading && React.createElement(
            'div',
            { className: 'flex justify-start mb-4' },
            React.createElement(
              'div',
              { className: 'bg-gray-200 rounded-lg p-3 max-w-[80%] rounded-tr-none animate-pulse-slow' },
              React.createElement(
                'div',
                { className: 'flex space-x-2' },
                React.createElement('div', { className: 'w-2 h-2 bg-gray-400 rounded-full' }),
                React.createElement('div', { className: 'w-2 h-2 bg-gray-400 rounded-full' }),
                React.createElement('div', { className: 'w-2 h-2 bg-gray-400 rounded-full' })
              )
            )
          )
        ),
        
        // é¢„è®¾é—®é¢˜å»ºè®®
        messages.length === 0 && apiStatus === 'ready' && React.createElement(
          'div',
          { className: 'mb-4' },
          React.createElement('p', { className: 'text-sm text-gray-500 mb-2' }, 'ğŸ’¡ æ‚¨å¯èƒ½æƒ³äº†è§£ï¼š'),
          React.createElement(
            'div',
            { className: 'flex flex-wrap gap-2' },
            suggestionQuestions.map((question, index) => React.createElement(
              'button',
              {
                key: index,
                onClick: () => {
                  setInputMessage(question);
                  handleSendMessage();
                },
                className: 'px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-full transition-all-300'
              },
              question
            ))
          )
        ),
        
        // è¾“å…¥åŒºåŸŸ - ä»…å½“APIçŠ¶æ€ä¸ºreadyæ—¶æ˜¾ç¤º
        apiStatus === 'ready' && React.createElement(
          'div',
          { className: 'flex gap-2' },
          React.createElement('input', {
            type: 'text',
            value: inputMessage,
            onChange: (e) => setInputMessage(e.target.value),
            onKeyPress: handleKeyPress,
            placeholder: 'è¾“å…¥æ‚¨çš„é—®é¢˜...',
            disabled: isLoading,
            className: 'flex-grow px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all-300'
          }),
          React.createElement('button', {
            onClick: handleSendMessage,
            disabled: isLoading || !inputMessage.trim(),
            className: `bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-all-300 ${isLoading ? 'opacity-70' : ''}`
          },
            isLoading ? (
              React.createElement('i', { className: 'fa fa-circle-o-notch fa-spin' })
            ) : (
              React.createElement('i', { className: 'fa fa-paper-plane' })
            )
          )
        )
      );
    };

    // æ•°æ®è¾“å…¥åŒºåŸŸç»„ä»¶
    const DataInputSection = function({ inputMethod, setInputMethod, handleFileUpload, handleDistributionGenerate, handleAIGenerateData, data }) {
      return React.createElement(
        'section',
        { className: 'bg-white rounded-xl shadow-card p-6 mb-8 transition-all-300 hover:shadow-card-hover animate-slide-up' },
        React.createElement('h2', { className: 'text-xl font-bold mb-4' }, 'æ•°æ®è¾“å…¥'),
        
        // è¾“å…¥æ–¹æ³•åˆ‡æ¢æ ‡ç­¾
        React.createElement(
          'div',
          { className: 'flex border-b border-gray-200 mb-6' },
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'upload' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('upload')
            },
            React.createElement('i', { className: 'fa fa-upload mr-2' }),
            'æ–‡ä»¶ä¸Šä¼ '
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'distribution' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('distribution')
            },
            React.createElement('i', { className: 'fa fa-random mr-2' }),
            'åˆ†å¸ƒç”Ÿæˆ'
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'ai' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('ai')
            },
            React.createElement('i', { className: 'fa fa-magic mr-2' }),
            'AIç”Ÿæˆ'
          )
        ),
        
        // æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ
        inputMethod === 'upload' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement(
            'div',
            { className: 'border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary hover:bg-primary/5 transition-all-300' },
            React.createElement('input', {
              type: 'file',
              accept: '.csv',
              onChange: handleFileUpload,
              className: 'hidden',
              id: 'fileUpload'
            }),
            React.createElement(
              'label',
              { htmlFor: 'fileUpload', className: 'cursor-pointer' },
              React.createElement('i', { className: 'fa fa-file-text-o text-5xl text-gray-400 mb-4' }),
              React.createElement('br'),
              React.createElement('span', { className: 'font-medium text-primary' }, 'ç‚¹å‡»ä¸Šä¼ CSVæ–‡ä»¶'),
              React.createElement('p', { className: 'text-sm text-gray-500 mt-2' }, 'æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„')
            )
          ),
          React.createElement(
            'div',
            { className: 'bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-600' },
            React.createElement('p', { className: 'font-medium mb-1 flex items-center' },
              React.createElement('i', { className: 'fa fa-info-circle text-primary mr-2' }),
              'æ–‡ä»¶æ ¼å¼è¦æ±‚'
            ),
            React.createElement('ul', { className: 'list-disc list-inside space-y-1' },
              React.createElement('li', null, 'æ”¯æŒCSVæ ¼å¼çš„æ–‡ä»¶'),
              React.createElement('li', null, 'ç¬¬ä¸€åˆ—åº”ä¸ºæ•°å€¼æ•°æ®'),
              React.createElement('li', null, 'ç¬¬ä¸€è¡Œä¸ºå¯é€‰çš„æ ‡é¢˜è¡Œ')
            )
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-green-50 border border-green-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-green-500 mr-3' }),
            React.createElement('span', { className: 'text-green-700' }, `å·²æˆåŠŸå¯¼å…¥ ${data.length} ä¸ªæ•°æ®ç‚¹`)  
          )
        ),
        
        // åˆ†å¸ƒç”ŸæˆåŒºåŸŸ
        inputMethod === 'distribution' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement('p', { className: 'text-gray-600' }, 'é€‰æ‹©åˆ†å¸ƒç±»å‹å¹¶ç”Ÿæˆæ•°æ®ï¼š'),
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('normal')
              },
              React.createElement('i', { className: 'fa fa-bell text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, 'æ­£æ€åˆ†å¸ƒ'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'N(Î¼, ÏƒÂ²)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('uniform')
              },
              React.createElement('i', { className: 'fa fa-arrows-h text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, 'å‡åŒ€åˆ†å¸ƒ'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'U(a, b)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('exponential')
              },
              React.createElement('i', { className: 'fa fa-line-chart text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, 'æŒ‡æ•°åˆ†å¸ƒ'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'Exp(Î»)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('poisson')
              },
              React.createElement('i', { className: 'fa fa-dot-circle-o text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, 'æ³Šæ¾åˆ†å¸ƒ'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'Poisson(Î»)')
            )
          ),
          React.createElement(
            'div',
            { className: 'bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-600' },
            React.createElement('p', { className: 'font-medium mb-1 flex items-center' },
              React.createElement('i', { className: 'fa fa-lightbulb-o text-primary mr-2' }),
              'æç¤º'
            ),
            React.createElement('p', null, 'ç‚¹å‡»ä»»æ„åˆ†å¸ƒç±»å‹æŒ‰é’®ï¼Œå°†ä½¿ç”¨é»˜è®¤å‚æ•°ç”Ÿæˆ1000ä¸ªéšæœºæ•°æ®ç‚¹ã€‚')
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-blue-500 mr-3' }),
            React.createElement('span', { className: 'text-blue-700' }, `å·²æˆåŠŸç”Ÿæˆ ${data.length} ä¸ªéšæœºæ•°æ®ç‚¹`)  
          )
        ),
        
        // AIç”ŸæˆåŒºåŸŸ
        inputMethod === 'ai' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement(
            'div',
            { className: 'bg-gradient-to-br from-purple-50 to-blue-50 border border-purple-100 rounded-xl p-6 text-center' },
            React.createElement('i', { className: 'fa fa-magic text-5xl text-purple-500 mb-4' }),
            React.createElement('h3', { className: 'text-lg font-semibold text-purple-800 mb-2' }, 'AI æ•°æ®ç”Ÿæˆ'),
            React.createElement('p', { className: 'text-gray-600 mb-6' }, 'ä½¿ç”¨å…ˆè¿›çš„AIç®—æ³•ç”Ÿæˆç¬¦åˆæ‚¨éœ€æ±‚çš„æ•°æ®é›†'),
            React.createElement(
              'button',
              {
                className: 'bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-all-300 flex items-center justify-center mx-auto',
                onClick: handleAIGenerateData
              },
              React.createElement('i', { className: 'fa fa-cog fa-spin mr-2' }),
              'ç”Ÿæˆæ•°æ®'
            )
          ),
          React.createElement(
            'div',
            { className: 'bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-600' },
            React.createElement('p', { className: 'font-medium mb-1 flex items-center' },
              React.createElement('i', { className: 'fa fa-info-circle text-primary mr-2' }),
              'å…³äºAIæ•°æ®ç”Ÿæˆ'
            ),
            React.createElement('p', null, 'æ­¤åŠŸèƒ½ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆç®—æ³•ï¼Œå®é™…åº”ç”¨ä¸­å¯è¿æ¥åˆ°çœŸå®çš„AI APIç”Ÿæˆæ›´ç¬¦åˆç‰¹å®šéœ€æ±‚çš„æ•°æ®ã€‚')
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-purple-500 mr-3' }),
            React.createElement('span', { className: 'text-purple-700' }, `å·²æˆåŠŸç”Ÿæˆ ${data.length} ä¸ªAIæ•°æ®ç‚¹`)  
          )
        )
      );
    };

    // åˆ†æç»“æœåŒºåŸŸç»„ä»¶
    const AnalysisResultSection = function({ activeTab, setActiveTab, analysisResult, data }) {
      // åœ¨ç»„ä»¶æŒ‚è½½ååˆ›å»ºå›¾è¡¨
      React.useEffect(() => {
        if (data.length > 0) {
          // åˆ›å»ºç›´æ–¹å›¾
          const histogramCtx = document.getElementById('histogram')?.getContext('2d');
          if (histogramCtx) {
            // é”€æ¯å·²å­˜åœ¨çš„å›¾è¡¨
            if (window.histogramChart) {
              window.histogramChart.destroy();
            }
            
            // è®¡ç®—ç›´æ–¹å›¾æ•°æ®
            const min = Math.min(...data);
            const max = Math.max(...data);
            const binCount = Math.ceil(Math.sqrt(data.length));
            const binWidth = (max - min) / binCount;
            const bins = new Array(binCount).fill(0);
            
            data.forEach(value => {
              const binIndex = Math.min(Math.floor((value - min) / binWidth), binCount - 1);
              bins[binIndex]++;
            });
            
            const labels = bins.map((_, index) => 
              `${(min + index * binWidth).toFixed(2)} - ${(min + (index + 1) * binWidth).toFixed(2)}`
            );
            
            window.histogramChart = new Chart(histogramCtx, {
              type: 'bar',
              data: {
                labels: labels,
                datasets: [{
                  label: 'æ•°æ®åˆ†å¸ƒ',
                  data: bins,
                  backgroundColor: 'rgba(22, 93, 255, 0.6)',
                  borderColor: 'rgba(22, 93, 255, 1)',
                  borderWidth: 1
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  title: {
                    display: true,
                    text: 'æ•°æ®ç›´æ–¹å›¾'
                  },
                  legend: {
                    display: false
                  }
                },
                scales: {
                  y: {
                    beginAtZero: true,
                    title: {
                      display: true,
                      text: 'é¢‘ç‡'
                    }
                  },
                  x: {
                    title: {
                      display: true,
                      text: 'æ•°å€¼åŒºé—´'
                    }
                  }
                }
              }
            });
          }
          
          // åˆ›å»ºæ•£ç‚¹å›¾
          const scatterCtx = document.getElementById('scatter')?.getContext('2d');
          if (scatterCtx) {
            // é”€æ¯å·²å­˜åœ¨çš„å›¾è¡¨
            if (window.scatterChart) {
              window.scatterChart.destroy();
            }
            
            // å‡†å¤‡æ•£ç‚¹å›¾æ•°æ®
            const scatterData = data.map((value, index) => ({
              x: index,
              y: value
            }));
            
            window.scatterChart = new Chart(scatterCtx, {
              type: 'scatter',
              data: {
                datasets: [{
                  label: 'æ•°æ®ç‚¹',
                  data: scatterData,
                  backgroundColor: 'rgba(54, 207, 201, 0.6)',
                  borderColor: 'rgba(54, 207, 201, 1)',
                  borderWidth: 1,
                  pointRadius: 3
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  title: {
                    display: true,
                    text: 'æ•°æ®æ•£ç‚¹å›¾'
                  },
                  legend: {
                    display: false
                  }
                },
                scales: {
                  y: {
                    title: {
                      display: true,
                      text: 'æ•°å€¼'
                    }
                  },
                  x: {
                    title: {
                      display: true,
                      text: 'ç´¢å¼•'
                    }
                  }
                }
              }
            });
          }
        }
      }, [data]);

      return React.createElement(
        'section',
        { className: 'bg-white rounded-xl shadow-card p-6 mb-8 transition-all-300 hover:shadow-card-hover animate-slide-up' },
        React.createElement('h2', { className: 'text-xl font-bold mb-4' }, 'æ•°æ®åˆ†æç»“æœ'),
        
        // åˆ†æç±»å‹åˆ‡æ¢æ ‡ç­¾
        React.createElement(
          'div',
          { className: 'flex border-b border-gray-200 mb-6' },
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${activeTab === 'basic' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setActiveTab('basic')
            },
            React.createElement('i', { className: 'fa fa-calculator mr-2' }),
            'åŸºæœ¬ç»Ÿè®¡åˆ†æ'
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${activeTab === 'mle-mom' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setActiveTab('mle-mom')
            },
            React.createElement('i', { className: 'fa fa-flask mr-2' }),
            'MLE/MoMåˆ†æ'
          )
        ),
        
        // åŸºæœ¬ç»Ÿè®¡åˆ†æç»“æœ
        activeTab === 'basic' && React.createElement(
          'div',
          { className: 'space-y-6' },
          
          // ç»Ÿè®¡æŒ‡æ ‡å¡ç‰‡
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4' },
            
            // å‡å€¼
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'å‡å€¼'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.mean?.toFixed(4))
            ),
            
            // ä¸­ä½æ•°
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¸­ä½æ•°'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.median?.toFixed(4))
            ),
            
            // æ ‡å‡†å·®
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'æ ‡å‡†å·®'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.stdDev?.toFixed(4))
            ),
            
            // æ–¹å·®
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'æ–¹å·®'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.variance?.toFixed(4))
            )
          ),
          
          // æ›´å¤šç»Ÿè®¡æŒ‡æ ‡
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
            
            // ä¼—æ•°
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼—æ•°'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.mode?.toFixed(4))
            ),
            
            // ååº¦
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'ååº¦'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.skewness?.toFixed(4))
            ),
            
            // å³°åº¦
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, 'å³°åº¦'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.kurtosis?.toFixed(4))
            )
          ),
          
          // ç»Ÿè®¡æŒ‡æ ‡è§£é‡Š
          React.createElement(
            'div',
            { className: 'bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-700' },
            React.createElement('p', { className: 'font-medium mb-2' }, 'ğŸ“Š ç»Ÿè®¡æŒ‡æ ‡è§£é‡Š'),
            React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-2' },
              React.createElement('div', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'å‡å€¼'), 'ï¼šæ•°æ®çš„å¹³å‡å€¼'),
              React.createElement('div', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'ä¸­ä½æ•°'), 'ï¼šæ’åºåä½äºä¸­é—´çš„æ•°å€¼'),
              React.createElement('div', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'æ ‡å‡†å·®'), 'ï¼šæ•°æ®ç¦»æ•£ç¨‹åº¦çš„åº¦é‡'),
              React.createElement('div', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'ååº¦'), 'ï¼šè¡¡é‡æ•°æ®åˆ†å¸ƒçš„ä¸å¯¹ç§°æ€§'),
              React.createElement('div', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'å³°åº¦'), 'ï¼šè¡¡é‡æ•°æ®åˆ†å¸ƒçš„å³°æ€')
            )
          ),
          
          // å¯è§†åŒ–å›¾è¡¨
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
            
            // ç›´æ–¹å›¾
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4' },
              React.createElement('div', { className: 'h-80' },
                React.createElement('canvas', { id: 'histogram' })
              )
            ),
            
            // æ•£ç‚¹å›¾
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4' },
              React.createElement('div', { className: 'h-80' },
                React.createElement('canvas', { id: 'scatter' })
              )
            )
          )
        ),
        
        // MLE/MoMåˆ†æç»“æœ
        activeTab === 'mle-mom' && React.createElement(
          'div',
          { className: 'space-y-6' },
          
          // MLEå‚æ•°ä¼°è®¡
          React.createElement(
            'div',
            { className: 'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-blue-800 mb-4 flex items-center' },
              React.createElement('i', { className: 'fa fa-bar-chart mr-2' }),
              'æœ€å¤§ä¼¼ç„¶ä¼°è®¡ (MLE)'
            ),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
              
              // MLEå‡å€¼
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡å‡å€¼'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.mean?.toFixed(4))
              ),
              
              // MLEæ–¹å·®
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡æ–¹å·®'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.variance?.toFixed(4))
              ),
              
              // MLEæ ‡å‡†å·®
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡æ ‡å‡†å·®'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.stdDev?.toFixed(4))
              )
            )
          ),
          
          // MoMå‚æ•°ä¼°è®¡
          React.createElement(
            'div',
            { className: 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-purple-800 mb-4 flex items-center' },
              React.createElement('i', { className: 'fa fa-calculator mr-2' }),
              'çŸ©æ³•ä¼°è®¡ (MoM)'
            ),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
              
              // MoMå‡å€¼
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡å‡å€¼'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.mean?.toFixed(4))
              ),
              
              // MoMæ–¹å·®
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡æ–¹å·®'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.variance?.toFixed(4))
              ),
              
              // MoMæ ‡å‡†å·®
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'ä¼°è®¡æ ‡å‡†å·®'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.stdDev?.toFixed(4))
              )
            )
          ),
          
          // ä¼°è®¡æ–¹æ³•æ¯”è¾ƒ
          React.createElement(
            'div',
            { className: 'bg-white border border-gray-200 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-gray-800 mb-4' }, 'ä¼°è®¡æ–¹æ³•æ¯”è¾ƒ'),
            React.createElement(
              'div',
              { className: 'overflow-x-auto' },
              React.createElement(
                'table',
                { className: 'min-w-full divide-y divide-gray-200' },
                React.createElement(
                  'thead',
                  { className: 'bg-gray-50' },
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'å‚æ•°'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'æœ€å¤§ä¼¼ç„¶ä¼°è®¡'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'çŸ©æ³•ä¼°è®¡'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, 'å·®å¼‚')
                  )
                ),
                React.createElement(
                  'tbody',
                  { className: 'bg-white divide-y divide-gray-200' },
                  // å‡å€¼æ¯”è¾ƒ
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, 'å‡å€¼'),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.mleParams?.mean?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.momParams?.mean?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, ((analysisResult.mleParams?.mean || 0) - (analysisResult.momParams?.mean || 0)).toFixed(8))
                  ),
                  // æ–¹å·®æ¯”è¾ƒ
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, 'æ–¹å·®'),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.mleParams?.variance?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.momParams?.variance?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, ((analysisResult.mleParams?.variance || 0) - (analysisResult.momParams?.variance || 0)).toFixed(8))
                  )
                )
              )
            )
          ),
          
          // MLEå’ŒMoMæ–¹æ³•è§£é‡Š
          React.createElement(
            'div',
            { className: 'bg-green-50 border border-green-200 rounded-lg p-4 text-sm text-green-700' },
            React.createElement('p', { className: 'font-medium mb-2' }, 'ğŸ”¬ å‚æ•°ä¼°è®¡æ–¹æ³•è§£é‡Š'),
            React.createElement('div', null,
              React.createElement('p', { className: 'mb-2' }, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'æœ€å¤§ä¼¼ç„¶ä¼°è®¡ (MLE)'), 'ï¼šå¯»æ‰¾æœ€å¯èƒ½äº§ç”Ÿè§‚æµ‹æ•°æ®çš„å‚æ•°å€¼'),
              React.createElement('p', null, 'â€¢ ', React.createElement('span', { className: 'font-medium' }, 'çŸ©æ³•ä¼°è®¡ (MoM)'), 'ï¼šé€šè¿‡åŒ¹é…æ ·æœ¬çŸ©å’Œç†è®ºçŸ©æ¥ä¼°è®¡å‚æ•°')
            )
          )
        )
      );
    };

    // æ•™ç¨‹ç»„ä»¶
    const TutorialSection = function() {
      const [activeTopic, setActiveTopic] = React.useState('basic');
      
      // æ•™ç¨‹å†…å®¹
      const tutorialContents = {
        basic: {
          title: 'åŸºç¡€ä½¿ç”¨æŒ‡å—',
          content: [
            {
              subtitle: 'æ•°æ®è¾“å…¥',
              items: [
                'CSVæ–‡ä»¶ä¸Šä¼ ï¼šç‚¹å‡»æ–‡ä»¶ä¸Šä¼ åŒºåŸŸï¼Œé€‰æ‹©æ‚¨çš„æ•°æ®æ–‡ä»¶',
                'åˆ†å¸ƒæ•°æ®ç”Ÿæˆï¼šé€‰æ‹©ä¸€ç§æ¦‚ç‡åˆ†å¸ƒï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”æ•°æ®',
                'AIæ•°æ®ç”Ÿæˆï¼šç‚¹å‡»"ç”Ÿæˆæ•°æ®"æŒ‰é’®ï¼Œè·å–AIç”Ÿæˆçš„ç¤ºä¾‹æ•°æ®'
              ]
            },
            {
              subtitle: 'æ•°æ®åˆ†æ',
              items: [
                'åŸºæœ¬ç»Ÿè®¡åˆ†æï¼šæŸ¥çœ‹å‡å€¼ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ç­‰ç»Ÿè®¡æŒ‡æ ‡',
                'MLE/MoMåˆ†æï¼šäº†è§£ä¸åŒå‚æ•°ä¼°è®¡æ–¹æ³•çš„ç»“æœå¯¹æ¯”',
                'æ•°æ®å¯è§†åŒ–ï¼šé€šè¿‡ç›´æ–¹å›¾å’Œæ•£ç‚¹å›¾ç›´è§‚äº†è§£æ•°æ®åˆ†å¸ƒ'
              ]
            },
            {
              subtitle: 'å¯¼å‡ºç»“æœ',
              items: [
                'æˆªå›¾ä¿å­˜ï¼šä½¿ç”¨ç³»ç»Ÿæˆªå›¾åŠŸèƒ½ä¿å­˜åˆ†æç»“æœ',
                'æ•°æ®å…±äº«ï¼šå¯¼å‡ºå¤„ç†åçš„æ•°æ®ç”¨äºå…¶ä»–åº”ç”¨'
              ]
            }
          ]
        },
        advanced: {
          title: 'é«˜çº§åŠŸèƒ½è¯¦è§£',
          content: [
            {
              subtitle: 'ç»Ÿè®¡æŒ‡æ ‡è§£é‡Š',
              items: [
                'å‡å€¼ï¼šæ•°æ®çš„é›†ä¸­è¶‹åŠ¿åº¦é‡',
                'ä¸­ä½æ•°ï¼šæ•°æ®æ’åºåçš„ä¸­é—´å€¼ï¼Œä¸å—æç«¯å€¼å½±å“',
                'æ ‡å‡†å·®ï¼šæ•°æ®ç¦»æ•£ç¨‹åº¦çš„åº¦é‡',
                'ååº¦ï¼šæ•°æ®åˆ†å¸ƒçš„ä¸å¯¹ç§°æ€§åº¦é‡',
                'å³°åº¦ï¼šæ•°æ®åˆ†å¸ƒçš„é™¡å³­ç¨‹åº¦åº¦é‡'
              ]
            },
            {
              subtitle: 'åˆ†å¸ƒç±»å‹ç‰¹ç‚¹',
              items: [
                'æ­£æ€åˆ†å¸ƒï¼šå¯¹ç§°çš„é’Ÿå½¢æ›²çº¿ï¼Œé€‚ç”¨äºè®¸å¤šè‡ªç„¶ç°è±¡',
                'å‡åŒ€åˆ†å¸ƒï¼šæ‰€æœ‰å€¼å‡ºç°çš„æ¦‚ç‡ç›¸ç­‰',
                'æŒ‡æ•°åˆ†å¸ƒï¼šå¸¸ç”¨äºæè¿°äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é—´éš”',
                'æ³Šæ¾åˆ†å¸ƒï¼šç”¨äºæè¿°åœ¨å›ºå®šæ—¶é—´å†…äº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°'
              ]
            },
            {
              subtitle: 'å‚æ•°ä¼°è®¡æ–¹æ³•',
              items: [
                'æœ€å¤§ä¼¼ç„¶ä¼°è®¡ (MLE)ï¼šåœ¨ç»Ÿè®¡æ¨æ–­ä¸­å¹¿æ³›ä½¿ç”¨çš„æ–¹æ³•',
                'çŸ©æ³•ä¼°è®¡ (MoM)ï¼šè®¡ç®—ç®€å•ä½†åœ¨æŸäº›æƒ…å†µä¸‹ç²¾åº¦è¾ƒä½'
              ]
            }
          ]
        },
        model: {
          title: 'å¤§æ¨¡å‹åŠ©æ‰‹ä½¿ç”¨æŒ‡å—',
          content: [
            {
              subtitle: 'é…ç½®é˜¿é‡Œäº‘API',
              items: [
                'å‰å¾€é˜¿é‡Œäº‘å®˜ç½‘å¼€é€šå¤§æ¨¡å‹æœåŠ¡',
                'è·å–æ‚¨çš„API Keyå’ŒAPI Secret',
                'åœ¨åº”ç”¨ä¸­é…ç½®APIå¯†é’¥ä¿¡æ¯'
              ]
            },
            {
              subtitle: 'æé—®æŠ€å·§',
              items: [
                'æ˜ç¡®å…·ä½“é—®é¢˜ï¼šä¾‹å¦‚"æˆ‘çš„æ•°æ®æ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Ÿ"',
                'è¯·æ±‚å»ºè®®ï¼šä¾‹å¦‚"åŸºäºè¿™äº›ç»Ÿè®¡ç»“æœï¼Œæˆ‘åº”è¯¥ä½¿ç”¨ä»€ä¹ˆåˆ†ææ–¹æ³•ï¼Ÿ"',
                'è¦æ±‚è§£é‡Šï¼šä¾‹å¦‚"å¦‚ä½•è§£é‡Šååº¦å’Œå³°åº¦çš„å€¼ï¼Ÿ"'
              ]
            },
            {
              subtitle: 'å¸¸è§é—®é¢˜',
              items: [
                'APIè°ƒç”¨å¤±è´¥ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥å’Œå¯†é’¥é…ç½®',
                'å“åº”æ—¶é—´é•¿ï¼šå¤§æ¨¡å‹å¤„ç†éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…',
                'ç»“æœä¸ç†æƒ³ï¼šå°è¯•è°ƒæ•´é—®é¢˜çš„è¡¨è¾¾æ–¹å¼'
              ]
            }
          ]
        },
        troubleshooting: {
          title: 'å¸¸è§é—®é¢˜æ’æŸ¥',
          content: [
            {
              subtitle: 'æ–‡ä»¶ä¸Šä¼ é—®é¢˜',
              items: [
                'æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼šç¡®ä¿ä¸Šä¼ çš„æ˜¯CSVæ ¼å¼æ–‡ä»¶',
                'æ•°æ®è§£æå¤±è´¥ï¼šæ£€æŸ¥CSVæ–‡ä»¶æ ¼å¼æ˜¯å¦ç¬¦åˆè¦æ±‚',
                'æ–‡ä»¶å¤§å°é™åˆ¶ï¼šå»ºè®®å•æ¬¡ä¸Šä¼ æ•°æ®é‡ä¸è¶…è¿‡10ä¸‡æ¡'
              ]
            },
            {
              subtitle: 'åˆ†æç»“æœé—®é¢˜',
              items: [
                'ç»“æœå¼‚å¸¸ï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦åŒ…å«å¼‚å¸¸å€¼æˆ–ç¼ºå¤±å€¼',
                'å›¾è¡¨æ˜¾ç¤ºé—®é¢˜ï¼šå°è¯•åˆ·æ–°é¡µé¢æˆ–ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨',
                'è®¡ç®—é”™è¯¯ï¼šç¡®ä¿è¾“å…¥çš„æ•°æ®ç±»å‹æ­£ç¡®'
              ]
            },
            {
              subtitle: 'æ€§èƒ½ä¼˜åŒ–',
              items: [
                'å¤§æ•°æ®é›†ï¼šå¯¹äºå¤§å‹æ•°æ®é›†ï¼Œå¯èƒ½éœ€è¦æ›´é•¿çš„å¤„ç†æ—¶é—´',
                'æµè§ˆå™¨å…¼å®¹æ€§ï¼šæ¨èä½¿ç”¨Chromeã€Firefoxæˆ–Edgeçš„æœ€æ–°ç‰ˆæœ¬',
                'ç¼“å­˜æ¸…ç†ï¼šå®šæœŸæ¸…ç†æµè§ˆå™¨ç¼“å­˜ä»¥è·å¾—æœ€ä½³ä½“éªŒ'
              ]
            }
          ]
        }
      };
      
      const currentTopic = tutorialContents[activeTopic];
      
      return React.createElement(
        'section',
        { className: 'bg-white rounded-xl shadow-card p-6 mb-8 transition-all-300 hover:shadow-card-hover animate-slide-up' },
        React.createElement('h2', { className: 'text-xl font-bold mb-6' }, 'ä½¿ç”¨æ•™ç¨‹'),
        
        // æ•™ç¨‹ä¸»é¢˜å¯¼èˆª
        React.createElement(
          'div',
          { className: 'flex flex-wrap gap-2 mb-6' },
          Object.entries(tutorialContents).map(([key, topic]) => React.createElement(
            'button',
            {
              key: key,
              onClick: () => setActiveTopic(key),
              className: `px-4 py-2 rounded-lg transition-all-300 ${activeTopic === key 
                ? 'bg-primary text-white' 
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`
            },
            topic.title
          ))
        ),
        
        // æ•™ç¨‹å†…å®¹
        React.createElement(
          'div',
          { className: 'space-y-6' },
          currentTopic.content.map((section, index) => React.createElement(
            'div',
            { key: index, className: 'bg-gray-50 rounded-lg p-5' },
            React.createElement('h3', { className: 'text-lg font-semibold mb-3 text-gray-800' }, section.subtitle),
            React.createElement(
              'ul',
              { className: 'space-y-2' },
              section.items.map((item, itemIndex) => React.createElement(
                'li',
                { key: itemIndex, className: 'flex items-start' },
                React.createElement('i', { className: 'fa fa-check-circle text-primary mt-1 mr-2 flex-shrink-0' }),
                React.createElement('span', null, item)
              ))
            )
          ))
        )
      );
    };

    // ä¸»åº”ç”¨ç»„ä»¶
    const DataAnalysisApp = function() {
      const [activeTab, setActiveTab] = React.useState('basic');
      const [inputMethod, setInputMethod] = React.useState('upload');
      const [data, setData] = React.useState([]);
      const [analysisResult, setAnalysisResult] = React.useState({});
      const [currentView, setCurrentView] = React.useState('analysis'); // analysis, tutorial, settings
      
      // å¤„ç†æ•°æ®åˆ†æ
      const analyzeData = function() {
        if (data.length === 0) return;
        const basicStats = calculateBasicStats(data);
        const mleParams = calculateMLE(data);
        const momParams = calculateMoM(data);
        
        setAnalysisResult({
          ...basicStats,
          mleParams,
          momParams
        });
      };
      
      // å¤„ç†æ–‡ä»¶ä¸Šä¼ 
      const handleFileUpload = function(e) {
        const file = e.target.files?.[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
          const content = event.target?.result;
          try {
            const parsedData = parseCSVContent(content);
            setData(parsedData);
          } catch (error) {
            console.error('æ–‡ä»¶è§£æé”™è¯¯:', error);
            alert('æ–‡ä»¶è§£æé”™è¯¯ï¼Œè¯·ç¡®ä¿ä¸Šä¼ çš„æ˜¯æœ‰æ•ˆçš„CSVæ–‡ä»¶ã€‚');
          }
        };
        reader.readAsText(file);
      };
      
      // å¤„ç†åˆ†å¸ƒç”Ÿæˆ
      const handleDistributionGenerate = function(type) {
        const params = {
          type,
          params: {},
          sampleSize: 1000
        };
        
        // è®¾ç½®é»˜è®¤å‚æ•°
        switch (type) {
          case 'normal':
            params.params = { mean: 0, stdDev: 1 };
            break;
          case 'uniform':
            params.params = { min: 0, max: 1 };
            break;
          case 'exponential':
            params.params = { lambda: 1 };
            break;
          case 'poisson':
            params.params = { rate: 5 };
            break;
        }
        
        const generatedData = generateDistributionData(params);
        setData(generatedData);
      };
      
      // å¤„ç†AIç”Ÿæˆæ•°æ®
      const handleAIGenerateData = function() {
        // è¿™é‡Œæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿå®ç°ï¼Œå®é™…åº”ç”¨ä¸­åº”è¯¥è¿æ¥åˆ°AI API
        const mockData = [];
        for (let i = 0; i < 500; i++) {
          mockData.push(20 + Math.random() * 60); // ç”Ÿæˆ20-80ä¹‹é—´çš„éšæœºæ•°
        }
        setData(mockData);
        alert('AIç”Ÿæˆæ•°æ®åŠŸèƒ½ï¼šè¿™é‡Œæ˜¯æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…åº”ç”¨ä¸­åº”è¿æ¥åˆ°AI APIã€‚');
      };
      
      React.useEffect(function() {
        if (data.length > 0) {
          analyzeData();
        }
      }, [data]);
      
      // ç”Ÿæˆç¤ºä¾‹æ•°æ®ï¼ˆç”¨äºåˆæ¬¡åŠ è½½æ—¶å±•ç¤ºåŠŸèƒ½ï¼‰
      React.useEffect(function() {
        // åªæœ‰åœ¨æ²¡æœ‰æ•°æ®æ—¶æ‰ç”Ÿæˆç¤ºä¾‹æ•°æ®
        if (data.length === 0) {
          // ç”Ÿæˆæ­£æ€åˆ†å¸ƒçš„ç¤ºä¾‹æ•°æ®ï¼Œä¾¿äºé¦–æ¬¡è®¿é—®æ—¶å±•ç¤ºåŠŸèƒ½
          const params = {
            type: 'normal',
            params: { mean: 50, stdDev: 15 },
            sampleSize: 1000
          };
          const exampleData = generateDistributionData(params);
          setData(exampleData);
        }
      }, []);
      
      // åº”ç”¨ä¸»æ¸²æŸ“
      return React.createElement(
        'div',
        { className: 'min-h-screen flex flex-col' },
        
        // é¡¶éƒ¨å¯¼èˆªæ 
        React.createElement(
          'header',
          { className: 'bg-white shadow-sm sticky top-0 z-10' },
          React.createElement(
            'div',
            { className: 'container mx-auto px-4 py-4 flex justify-between items-center' },
            React.createElement(
              'div',
              { className: 'flex items-center space-x-2' },
              React.createElement('i', { className: 'fa fa-bar-chart text-2xl text-primary' }),
              React.createElement('h1', { className: 'text-xl font-bold text-gray-800' }, 'æ•°æ®åˆ†æå¸ˆWebåº”ç”¨')
            ),
            
            // ä¸»å¯¼èˆª
            React.createElement(
              'nav',
              { className: 'hidden md:flex items-center space-x-6' },
              React.createElement(
                'button',
                {
                  onClick: () => setCurrentView('analysis'),
                  className: `flex items-center font-medium ${currentView === 'analysis' ? 'text-primary' : 'text-gray-600 hover:text-primary'}`
                },
                React.createElement('i', { className: 'fa fa-line-chart mr-2' }),
                'æ•°æ®åˆ†æ'
              ),
              React.createElement(
                'button',
                {
                  onClick: () => setCurrentView('tutorial'),
                  className: `flex items-center font-medium ${currentView === 'tutorial' ? 'text-primary' : 'text-gray-600 hover:text-primary'}`
                },
                React.createElement('i', { className: 'fa fa-book mr-2' }),
                'ä½¿ç”¨æ•™ç¨‹'
              ),
              React.createElement(
                'button',
                {
                  onClick: () => setCurrentView('settings'),
                  className: `flex items-center font-medium ${currentView === 'settings' ? 'text-primary' : 'text-gray-600 hover:text-primary'}`
                },
                React.createElement('i', { className: 'fa fa-cog mr-2' }),
                'è®¾ç½®'
              )
            ),
            
            // ç§»åŠ¨ç«¯èœå•æŒ‰é’®
            React.createElement(
              'button',
              { className: 'md:hidden text-gray-500' },
              React.createElement('i', { className: 'fa fa-bars text-xl' })
            )
          )
        ),
        
        // ä¸»å†…å®¹åŒºåŸŸ
        React.createElement(
          'main',
          { className: 'flex-grow container mx-auto px-4 py-8' },
          
          // æ•°æ®åˆ†æè§†å›¾
          currentView === 'analysis' && React.createElement(
            'div',
            { className: 'space-y-8' },
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 lg:grid-cols-3 gap-6' },
              React.createElement(
                'div',
                { className: 'lg:col-span-2 space-y-8' },
                React.createElement(DataInputSection, {
                  inputMethod,
                  setInputMethod,
                  handleFileUpload,
                  handleDistributionGenerate,
                  handleAIGenerateData,
                  data
                }),
                React.createElement(AnalysisResultSection, {
                  activeTab,
                  setActiveTab,
                  analysisResult,
                  data
                })
              ),
              
              // ä¾§è¾¹æ ï¼šAIåŠ©æ‰‹å’Œæ•°æ®ä¿¡æ¯
              React.createElement(
                'div',
                { className: 'space-y-6' },
                
                // æ•°æ®æ¦‚è§ˆ
                React.createElement(
                  'div',
                  { className: 'bg-white rounded-xl shadow-card p-6 transition-all-300 hover:shadow-card-hover' },
                  React.createElement('h3', { className: 'text-lg font-bold mb-4 flex items-center' },
                    React.createElement('i', { className: 'fa fa-database text-primary mr-2' }),
                    'æ•°æ®æ¦‚è§ˆ'
                  ),
                  React.createElement(
                    'div',
                    { className: 'space-y-3' },
                    React.createElement(
                      'div',
                      null,
                      React.createElement('p', { className: 'text-sm text-gray-500' }, 'æ•°æ®ç‚¹æ•°é‡'),
                      React.createElement('p', { className: 'text-2xl font-bold' }, data.length)
                    ),
                    React.createElement(
                      'div',
                      null,
                      React.createElement('p', { className: 'text-sm text-gray-500' }, 'æ•°æ®èŒƒå›´'),
                      React.createElement('p', { className: 'text-lg font-medium' },
                        data.length > 0 
                          ? `${Math.min(...data).toFixed(2)} - ${Math.max(...data).toFixed(2)}` 
                          : '--' 
                      )
                    ),
                    React.createElement(
                      'div',
                      null,
                      React.createElement('p', { className: 'text-sm text-gray-500' }, 'æ•°æ®ç±»å‹'),
                      React.createElement('p', { className: 'text-lg font-medium' },
                        data.length > 0 ? 'æ•°å€¼å‹æ•°æ®' : '--'
                      )
                    )
                  )
                ),
                
                // AIåŠ©æ‰‹
                React.createElement(AIModelChat, {
                  analysisResult,
                  data
                })
              )
            )
          ),
          
          // æ•™ç¨‹è§†å›¾
          currentView === 'tutorial' && React.createElement(
            'div',
            null,
            React.createElement(TutorialSection, null)
          ),
          
          // è®¾ç½®è§†å›¾
          currentView === 'settings' && React.createElement(
            'div',
            null,
            React.createElement(AliyunAPIConfig, null)
          )
        ),
        
        // é¡µè„š
        React.createElement(
          'footer',
          { className: 'bg-gray-800 text-white py-8' },
          React.createElement(
            'div',
            { className: 'container mx-auto px-4' },
            React.createElement(
              'div',
              { className: 'flex flex-col md:flex-row justify-between items-center' },
              React.createElement(
                'div',
                { className: 'mb-4 md:mb-0' },
                React.createElement('p', { className: 'text-sm text-gray-400' }, 'Â© 2023 æ•°æ®åˆ†æå¸ˆWebåº”ç”¨. ä¿ç•™æ‰€æœ‰æƒåˆ©.')
              ),
              React.createElement(
                'div',
                { className: 'flex space-x-4' },
                React.createElement(
                  'a',
                  { href: '#', className: 'text-gray-400 hover:text-white transition-colors' },
                  React.createElement('i', { className: 'fa fa-github text-xl' })
                ),
                React.createElement(
                  'a',
                  { href: '#', className: 'text-gray-400 hover:text-white transition-colors' },
                  React.createElement('i', { className: 'fa fa-twitter text-xl' })
                ),
                React.createElement(
                  'a',
                  { href: '#', className: 'text-gray-400 hover:text-white transition-colors' },
                  React.createElement('i', { className: 'fa fa-linkedin text-xl' })
                )
              )
            )
          )
        )
      );
    };

    // æ¸²æŸ“åº”ç”¨ - ä½¿ç”¨React 18çš„createRoot API
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(DataAnalysisApp, null));
  </script>
</body>
</html>