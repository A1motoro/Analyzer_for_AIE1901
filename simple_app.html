<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数据分析师Web应用</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script>
    // Tailwind配置
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            accent: '#722ED1',
            neutral: '#F5F7FA',
            'neutral-dark': '#1D2129',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      .transition-all-300 {
        transition: all 300ms ease-in-out;
      }
    }
  </style>
</head>
<body class="bg-neutral min-h-screen font-sans text-neutral-dark">
  <div id="root" class="w-full"></div>

  <script>
    // 工具函数
    const calculateBasicStats = function(data) {
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const sortedData = [...data].sort((a, b) => a - b);
      const median = n % 2 === 0 
        ? (sortedData[n/2 - 1] + sortedData[n/2]) / 2 
        : sortedData[Math.floor(n/2)];
      
      // 计算方差和标准差
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      const stdDev = Math.sqrt(variance);
      
      // 计算众数
      const frequencyMap = {};
      data.forEach(val => {
        frequencyMap[val] = (frequencyMap[val] || 0) + 1;
      });
      let mode = sortedData[0];
      let maxFreq = 1;
      Object.entries(frequencyMap).forEach(([val, freq]) => {
        if (freq > maxFreq) {
          maxFreq = freq;
          mode = parseFloat(val);
        }
      });
      
      // 计算偏度和峰度
      const skewnessNumerator = data.reduce((sum, val) => sum + Math.pow(val - mean, 3), 0) / n;
      const skewness = skewnessNumerator / Math.pow(stdDev, 3);
      
      const kurtosisNumerator = data.reduce((sum, val) => sum + Math.pow(val - mean, 4), 0) / n;
      const kurtosis = kurtosisNumerator / Math.pow(stdDev, 4) - 3;
      
      return {
        mean,
        median,
        mode,
        variance,
        stdDev,
        skewness,
        kurtosis
      };
    };

    const generateDistributionData = function(params) {
      const { type, params: distParams, sampleSize } = params;
      const result = [];
      
      switch (type) {
        case 'normal':
          const { mean = 0, stdDev = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            // Box-Muller变换生成正态分布随机数
            let u1 = 0, u2 = 0;
            while (u1 === 0) u1 = Math.random();
            while (u2 === 0) u2 = Math.random();
            const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2);
            result.push(z0 * stdDev + mean);
          }
          break;
          
        case 'uniform':
          const { min = 0, max = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            result.push(min + Math.random() * (max - min));
          }
          break;
          
        case 'exponential':
          const { lambda = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            result.push(-Math.log(Math.random()) / lambda);
          }
          break;
          
        case 'poisson':
          const { rate = 1 } = distParams;
          for (let i = 0; i < sampleSize; i++) {
            let k = 0;
            let p = 1;
            const L = Math.exp(-rate);
            do {
              k++;
              p *= Math.random();
            } while (p > L);
            result.push(k - 1);
          }
          break;
      }
      
      return result;
    };

    const parseCSVContent = function(content) {
      try {
        // 假设CSV格式，第一列是数据
        const lines = content.split('\n').filter(line => line.trim() !== '');
        return lines.slice(1) // 跳过标题行
          .map(line => {
            const values = line.split(',');
            return parseFloat(values[0]);
          })
          .filter(value => !isNaN(value));
      } catch (error) {
        console.error('CSV解析错误:', error);
        throw new Error('CSV文件解析失败，请检查文件格式。');
      }
    };

    const calculateMLE = function(data) {
      // 假设正态分布的MLE参数估计
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      
      return {
        mean,
        variance,
        stdDev: Math.sqrt(variance)
      };
    };

    const calculateMoM = function(data) {
      // 假设正态分布的MoM参数估计
      const n = data.length;
      const mean = data.reduce((sum, val) => sum + val, 0) / n;
      const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / n;
      
      return {
        mean,
        variance,
        stdDev: Math.sqrt(variance)
      };
    };

    // 数据输入区域组件
    const DataInputSection = function({ inputMethod, setInputMethod, handleFileUpload, handleDistributionGenerate, handleAIGenerateData, data }) {
      return React.createElement(
        'section',
        { className: 'bg-white rounded-xl card-shadow p-6 mb-8' },
        React.createElement('h2', { className: 'text-xl font-bold mb-4' }, '数据输入'),
        
        // 输入方法切换标签
        React.createElement(
          'div',
          { className: 'flex border-b border-gray-200 mb-6' },
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'upload' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('upload')
            },
            React.createElement('i', { className: 'fa fa-upload mr-2' }),
            '文件上传'
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'distribution' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('distribution')
            },
            React.createElement('i', { className: 'fa fa-random mr-2' }),
            '分布生成'
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${inputMethod === 'ai' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setInputMethod('ai')
            },
            React.createElement('i', { className: 'fa fa-magic mr-2' }),
            'AI生成'
          )
        ),
        
        // 文件上传区域
        inputMethod === 'upload' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement(
            'div',
            { className: 'border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-all-300' },
            React.createElement('input', {
              type: 'file',
              accept: '.csv',
              onChange: handleFileUpload,
              className: 'hidden',
              id: 'fileUpload'
            }),
            React.createElement(
              'label',
              { htmlFor: 'fileUpload', className: 'cursor-pointer' },
              React.createElement('i', { className: 'fa fa-file-text-o text-5xl text-gray-400 mb-4' }),
              React.createElement('br'),
              React.createElement('span', { className: 'font-medium text-primary' }, '点击上传CSV文件'),
              React.createElement('p', { className: 'text-sm text-gray-500 mt-2' }, '或拖拽文件到此处')
            )
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-green-50 border border-green-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-green-500 mr-3' }),
            React.createElement('span', { className: 'text-green-700' }, `已成功导入 ${data.length} 个数据点`)
          )
        ),
        
        // 分布生成区域
        inputMethod === 'distribution' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement('p', { className: 'text-gray-600' }, '选择分布类型并生成数据：'),
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('normal')
              },
              React.createElement('i', { className: 'fa fa-bell text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, '正态分布'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'N(μ, σ²)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('uniform')
              },
              React.createElement('i', { className: 'fa fa-arrows-h text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, '均匀分布'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'U(a, b)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('exponential')
              },
              React.createElement('i', { className: 'fa fa-line-chart text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, '指数分布'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'Exp(λ)')
            ),
            React.createElement(
              'button',
              {
                className: 'bg-white border border-gray-300 rounded-lg p-4 hover:border-primary hover:bg-primary/5 transition-all-300 flex flex-col items-center',
                onClick: () => handleDistributionGenerate('poisson')
              },
              React.createElement('i', { className: 'fa fa-dot-circle-o text-2xl text-primary mb-2' }),
              React.createElement('span', { className: 'font-medium' }, '泊松分布'),
              React.createElement('span', { className: 'text-xs text-gray-500' }, 'Poisson(λ)')
            )
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-blue-500 mr-3' }),
            React.createElement('span', { className: 'text-blue-700' }, `已成功生成 ${data.length} 个随机数据点`)
          )
        ),
        
        // AI生成区域
        inputMethod === 'ai' && React.createElement(
          'div',
          { className: 'space-y-4' },
          React.createElement(
            'div',
            { className: 'bg-gradient-to-br from-purple-50 to-blue-50 border border-purple-100 rounded-xl p-6 text-center' },
            React.createElement('i', { className: 'fa fa-magic text-5xl text-purple-500 mb-4' }),
            React.createElement('h3', { className: 'text-lg font-semibold text-purple-800 mb-2' }, 'AI 数据生成'),
            React.createElement('p', { className: 'text-gray-600 mb-6' }, '使用先进的AI算法生成符合您需求的数据集'),
            React.createElement(
              'button',
              {
                className: 'bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-all-300 flex items-center justify-center mx-auto',
                onClick: handleAIGenerateData
              },
              React.createElement('i', { className: 'fa fa-cog fa-spin mr-2' }),
              '生成数据'
            )
          ),
          data.length > 0 && React.createElement(
            'div',
            { className: 'bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-center' },
            React.createElement('i', { className: 'fa fa-check-circle text-purple-500 mr-3' }),
            React.createElement('span', { className: 'text-purple-700' }, `已成功生成 ${data.length} 个AI数据点`)
          )
        )
      );
    };

    // 分析结果区域组件
    const AnalysisResultSection = function({ activeTab, setActiveTab, analysisResult, data }) {
      // 在组件挂载后创建图表
      React.useEffect(() => {
        if (data.length > 0) {
          // 创建直方图
          const histogramCtx = document.getElementById('histogram')?.getContext('2d');
          if (histogramCtx) {
            // 销毁已存在的图表
            if (window.histogramChart) {
              window.histogramChart.destroy();
            }
            
            // 计算直方图数据
            const min = Math.min(...data);
            const max = Math.max(...data);
            const binCount = Math.ceil(Math.sqrt(data.length));
            const binWidth = (max - min) / binCount;
            const bins = new Array(binCount).fill(0);
            
            data.forEach(value => {
              const binIndex = Math.min(Math.floor((value - min) / binWidth), binCount - 1);
              bins[binIndex]++;
            });
            
            const labels = bins.map((_, index) => 
              `${(min + index * binWidth).toFixed(2)} - ${(min + (index + 1) * binWidth).toFixed(2)}`
            );
            
            window.histogramChart = new Chart(histogramCtx, {
              type: 'bar',
              data: {
                labels: labels,
                datasets: [{
                  label: '数据分布',
                  data: bins,
                  backgroundColor: 'rgba(22, 93, 255, 0.6)',
                  borderColor: 'rgba(22, 93, 255, 1)',
                  borderWidth: 1
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  title: {
                    display: true,
                    text: '数据直方图'
                  },
                  legend: {
                    display: false
                  }
                },
                scales: {
                  y: {
                    beginAtZero: true,
                    title: {
                      display: true,
                      text: '频率'
                    }
                  },
                  x: {
                    title: {
                      display: true,
                      text: '数值区间'
                    }
                  }
                }
              }
            });
          }
          
          // 创建散点图
          const scatterCtx = document.getElementById('scatter')?.getContext('2d');
          if (scatterCtx) {
            // 销毁已存在的图表
            if (window.scatterChart) {
              window.scatterChart.destroy();
            }
            
            // 准备散点图数据
            const scatterData = data.map((value, index) => ({
              x: index,
              y: value
            }));
            
            window.scatterChart = new Chart(scatterCtx, {
              type: 'scatter',
              data: {
                datasets: [{
                  label: '数据点',
                  data: scatterData,
                  backgroundColor: 'rgba(54, 207, 201, 0.6)',
                  borderColor: 'rgba(54, 207, 201, 1)',
                  borderWidth: 1,
                  pointRadius: 3
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  title: {
                    display: true,
                    text: '数据散点图'
                  },
                  legend: {
                    display: false
                  }
                },
                scales: {
                  y: {
                    title: {
                      display: true,
                      text: '数值'
                    }
                  },
                  x: {
                    title: {
                      display: true,
                      text: '索引'
                    }
                  }
                }
              }
            });
          }
        }
      }, [data]);

      return React.createElement(
        'section',
        { className: 'bg-white rounded-xl card-shadow p-6 mb-8' },
        React.createElement('h2', { className: 'text-xl font-bold mb-4' }, '数据分析结果'),
        
        // 分析类型切换标签
        React.createElement(
          'div',
          { className: 'flex border-b border-gray-200 mb-6' },
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${activeTab === 'basic' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setActiveTab('basic')
            },
            React.createElement('i', { className: 'fa fa-calculator mr-2' }),
            '基本统计分析'
          ),
          React.createElement(
            'button',
            {
              className: `px-4 py-2 font-medium text-sm border-b-2 transition-all-300 ${activeTab === 'mle-mom' ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700'}`,
              onClick: () => setActiveTab('mle-mom')
            },
            React.createElement('i', { className: 'fa fa-flask mr-2' }),
            'MLE/MoM分析'
          )
        ),
        
        // 基本统计分析结果
        activeTab === 'basic' && React.createElement(
          'div',
          { className: 'space-y-6' },
          
          // 统计指标卡片
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4' },
            
            // 均值
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '均值'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.mean?.toFixed(4))
            ),
            
            // 中位数
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '中位数'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.median?.toFixed(4))
            ),
            
            // 标准差
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '标准差'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.stdDev?.toFixed(4))
            ),
            
            // 方差
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '方差'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.variance?.toFixed(4))
            )
          ),
          
          // 更多统计指标
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
            
            // 众数
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '众数'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.mode?.toFixed(4))
            ),
            
            // 偏度
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '偏度'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.skewness?.toFixed(4))
            ),
            
            // 峰度
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all-300' },
              React.createElement('p', { className: 'text-sm text-gray-500' }, '峰度'),
              React.createElement('p', { className: 'text-2xl font-bold mt-1' }, analysisResult.kurtosis?.toFixed(4))
            )
          ),
          
          // 可视化图表
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
            
            // 直方图
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4' },
              React.createElement('div', { className: 'h-80' },
                React.createElement('canvas', { id: 'histogram' })
              )
            ),
            
            // 散点图
            React.createElement(
              'div',
              { className: 'bg-white border border-gray-200 rounded-lg p-4' },
              React.createElement('div', { className: 'h-80' },
                React.createElement('canvas', { id: 'scatter' })
              )
            )
          )
        ),
        
        // MLE/MoM分析结果
        activeTab === 'mle-mom' && React.createElement(
          'div',
          { className: 'space-y-6' },
          
          // MLE参数估计
          React.createElement(
            'div',
            { className: 'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-blue-800 mb-4 flex items-center' },
              React.createElement('i', { className: 'fa fa-bar-chart mr-2' }),
              '最大似然估计 (MLE)'
            ),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
              
              // MLE均值
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计均值'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.mean?.toFixed(4))
              ),
              
              // MLE方差
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计方差'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.variance?.toFixed(4))
              ),
              
              // MLE标准差
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计标准差'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-blue-600' }, analysisResult.mleParams?.stdDev?.toFixed(4))
              )
            )
          ),
          
          // MoM参数估计
          React.createElement(
            'div',
            { className: 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-purple-800 mb-4 flex items-center' },
              React.createElement('i', { className: 'fa fa-calculator mr-2' }),
              '矩法估计 (MoM)'
            ),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 sm:grid-cols-3 gap-4' },
              
              // MoM均值
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计均值'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.mean?.toFixed(4))
              ),
              
              // MoM方差
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计方差'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.variance?.toFixed(4))
              ),
              
              // MoM标准差
              React.createElement(
                'div',
                { className: 'bg-white rounded-lg p-4 shadow-sm' },
                React.createElement('p', { className: 'text-sm text-gray-500' }, '估计标准差'),
                React.createElement('p', { className: 'text-2xl font-bold mt-1 text-purple-600' }, analysisResult.momParams?.stdDev?.toFixed(4))
              )
            )
          ),
          
          // 估计方法比较
          React.createElement(
            'div',
            { className: 'bg-white border border-gray-200 rounded-lg p-6' },
            React.createElement('h3', { className: 'text-lg font-semibold text-gray-800 mb-4' }, '估计方法比较'),
            React.createElement(
              'div',
              { className: 'overflow-x-auto' },
              React.createElement(
                'table',
                { className: 'min-w-full divide-y divide-gray-200' },
                React.createElement(
                  'thead',
                  { className: 'bg-gray-50' },
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, '参数'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, '最大似然估计'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, '矩法估计'),
                    React.createElement('th', { className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' }, '差异')
                  )
                ),
                React.createElement(
                  'tbody',
                  { className: 'bg-white divide-y divide-gray-200' },
                  // 均值比较
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, '均值'),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.mleParams?.mean?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.momParams?.mean?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, ((analysisResult.mleParams?.mean || 0) - (analysisResult.momParams?.mean || 0)).toFixed(8))
                  ),
                  // 方差比较
                  React.createElement(
                    'tr',
                    null,
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900' }, '方差'),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.mleParams?.variance?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, analysisResult.momParams?.variance?.toFixed(6)),
                    React.createElement('td', { className: 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }, ((analysisResult.mleParams?.variance || 0) - (analysisResult.momParams?.variance || 0)).toFixed(8))
                  )
                )
              )
            )
          )
        )
      );
    };

    // 主应用组件
    const DataAnalysisApp = function() {
      const [activeTab, setActiveTab] = React.useState('basic');
      const [inputMethod, setInputMethod] = React.useState('upload');
      const [data, setData] = React.useState([]);
      const [analysisResult, setAnalysisResult] = React.useState({});
      
      // 处理数据分析
      const analyzeData = function() {
        if (data.length === 0) return;
        const basicStats = calculateBasicStats(data);
        const mleParams = calculateMLE(data);
        const momParams = calculateMoM(data);
        
        setAnalysisResult({
          ...basicStats,
          mleParams,
          momParams
        });
      };
      
      // 处理文件上传
      const handleFileUpload = function(e) {
        const file = e.target.files?.[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
          const content = event.target?.result;
          try {
            const parsedData = parseCSVContent(content);
            setData(parsedData);
          } catch (error) {
            console.error('文件解析错误:', error);
            alert('文件解析错误，请确保上传的是有效的CSV文件。');
          }
        };
        reader.readAsText(file);
      };
      
      // 处理分布生成
      const handleDistributionGenerate = function(type) {
        const params = {
          type,
          params: {},
          sampleSize: 1000
        };
        
        // 设置默认参数
        switch (type) {
          case 'normal':
            params.params = { mean: 0, stdDev: 1 };
            break;
          case 'uniform':
            params.params = { min: 0, max: 1 };
            break;
          case 'exponential':
            params.params = { lambda: 1 };
            break;
          case 'poisson':
            params.params = { rate: 5 };
            break;
        }
        
        const generatedData = generateDistributionData(params);
        setData(generatedData);
      };
      
      // 处理AI生成数据
      const handleAIGenerateData = function() {
        // 这里是一个模拟实现，实际应用中应该连接到AI API
        const mockData = [];
        for (let i = 0; i < 500; i++) {
          mockData.push(20 + Math.random() * 60); // 生成20-80之间的随机数
        }
        setData(mockData);
        alert('AI生成数据功能：这里是模拟数据，实际应用中应连接到AI API。');
      };
      
      React.useEffect(function() {
        if (data.length > 0) {
          analyzeData();
        }
      }, [data]);
      
      return React.createElement(
        'div',
        { className: 'min-h-screen flex flex-col' },
        // 应用头部
        React.createElement(
          'header',
          { className: 'bg-white border-b border-gray-200 sticky top-0 z-10' },
          React.createElement(
            'div',
            { className: 'container mx-auto px-4 py-4 flex items-center justify-between' },
            React.createElement(
              'div',
              { className: 'flex items-center space-x-2' },
              React.createElement('i', { className: 'fa fa-bar-chart text-primary text-2xl' }),
              React.createElement('h1', { className: 'text-xl font-bold text-neutral-dark' }, '数据分析师')
            ),
            React.createElement(
              'nav',
              { className: 'hidden md:flex space-x-6' },
              React.createElement('a', { href: '#', className: 'text-primary font-medium' }, '主页'),
              React.createElement('a', { href: '#', className: 'text-gray-600 hover:text-primary transition-all-300' }, '文档'),
              React.createElement('a', { href: '#', className: 'text-gray-600 hover:text-primary transition-all-300' }, '教程'),
              React.createElement('a', { href: '#', className: 'text-gray-600 hover:text-primary transition-all-300' }, '关于')
            ),
            React.createElement('button', { className: 'md:hidden text-gray-600' },
              React.createElement('i', { className: 'fa fa-bars text-xl' })
            )
          )
        ),
        
        // 主内容区
        React.createElement(
          'main',
          { className: 'flex-grow container mx-auto px-4 py-8' },
          // 数据输入区域
          React.createElement(DataInputSection, {
            inputMethod: inputMethod,
            setInputMethod: setInputMethod,
            handleFileUpload: handleFileUpload,
            handleDistributionGenerate: handleDistributionGenerate,
            handleAIGenerateData: handleAIGenerateData,
            data: data
          }),
          
          // 数据分析结果区域
          data.length > 0 && React.createElement(AnalysisResultSection, {
            activeTab: activeTab,
            setActiveTab: setActiveTab,
            analysisResult: analysisResult,
            data: data
          })
        ),
        
        // 页脚
        React.createElement(
          'footer',
          { className: 'bg-white border-t border-gray-200 py-6' },
          React.createElement(
            'div',
            { className: 'container mx-auto px-4' },
            React.createElement(
              'div',
              { className: 'flex flex-col md:flex-row justify-between items-center' },
              React.createElement(
                'div',
                { className: 'mb-4 md:mb-0' },
                React.createElement('p', { className: 'text-gray-600 text-sm' }, '© 2023 数据分析师Web应用. 保留所有权利.')
              ),
              React.createElement(
                'div',
                { className: 'flex space-x-6' },
                React.createElement('a', { href: '#', className: 'text-gray-500 hover:text-primary transition-all-300' },
                  React.createElement('i', { className: 'fa fa-github text-xl' })
                ),
                React.createElement('a', { href: '#', className: 'text-gray-500 hover:text-primary transition-all-300' },
                  React.createElement('i', { className: 'fa fa-twitter text-xl' })
                ),
                React.createElement('a', { href: '#', className: 'text-gray-500 hover:text-primary transition-all-300' },
                  React.createElement('i', { className: 'fa fa-linkedin text-xl' })
                )
              )
            )
          )
        )
      );
    };

    // 将组件挂载到DOM
    window.onload = function() {
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(
        React.createElement(React.StrictMode, null,
          React.createElement(DataAnalysisApp, null)
        )
      );
    };
  </script>
</body>
</html>