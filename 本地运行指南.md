# 数据分析师Web应用 - 本地运行指南

## 📋 目录
1. [系统要求](#系统要求)
2. [快速开始](#快速开始)
3. [详细步骤](#详细步骤)
4. [常见问题](#常见问题)
5. [项目结构说明](#项目结构说明)

---

## 🔧 系统要求

在开始之前，请确保您的计算机已安装以下软件：

### 必需软件
- **Node.js**: 版本 18.0 或更高
  - 下载地址：https://nodejs.org/
  - 安装后，打开命令行输入 `node --version` 验证安装
- **pnpm**: 包管理器（推荐）或 npm
  - 如果使用 npm：Node.js 自带，无需额外安装
  - 如果使用 pnpm：运行 `npm install -g pnpm` 安装

### 可选软件
- **Git**: 用于版本控制（如果从Git仓库打开）
- **代码编辑器**: VS Code、WebStorm 等（可选）

---

## 🚀 快速开始

### 方法一：使用命令行（推荐）

1. **解压项目文件**
   ```
   将下载的 zip 文件解压到任意目录，例如：
   C:\Users\YourName\Desktop\Analyzer_for_AIE1901-1
   ```

2. **打开命令行工具**
   - Windows: 按 `Win + R`，输入 `cmd` 或 `powershell`，按回车
   - Mac/Linux: 打开 Terminal

3. **进入项目目录**
   ```bash
   cd C:\Users\YourName\Desktop\Analyzer_for_AIE1901-1\analyzer-app
   ```
   > ⚠️ 注意：必须进入 `analyzer-app` 子目录，这是主应用目录

4. **安装依赖**
   ```bash
   # 如果使用 pnpm（推荐）
   pnpm install
   
   # 或者使用 npm
   npm install
   ```
   > ⏱️ 这个过程可能需要几分钟，请耐心等待

5. **启动开发服务器**
   ```bash
   # 如果使用 pnpm
   pnpm run dev
   
   # 或者使用 npm
   npm run dev
   ```

6. **打开浏览器**
   - 命令行会显示类似以下信息：
     ```
     VITE v7.x.x  ready in xxx ms
     
     ➜  Local:   http://localhost:5173/
     ➜  Network: use --host to expose
     ```
   - 复制 `http://localhost:5173/` 到浏览器打开即可

### 方法二：使用 VS Code（适合开发者）

1. **安装 VS Code**
   - 下载地址：https://code.visualstudio.com/

2. **打开项目**
   - 打开 VS Code
   - 点击 `文件` → `打开文件夹`
   - 选择解压后的项目根目录

3. **打开终端**
   - 按 `Ctrl + ~`（Windows）或 `Cmd + ~`（Mac）打开集成终端
   - 或者点击菜单：`终端` → `新建终端`

4. **执行命令**
   ```bash
   cd analyzer-app
   pnpm install
   pnpm run dev
   ```

---

## 📝 详细步骤

### 步骤 1: 解压项目文件

1. 找到下载的 zip 文件（例如：`Analyzer_for_AIE1901-1.zip`）
2. 右键点击 zip 文件，选择"解压到当前文件夹"或"解压到..."
3. 确保解压后的文件夹结构如下：
   ```
   Analyzer_for_AIE1901-1/
   ├── analyzer-app/          ← 主应用目录
   │   ├── src/
   │   ├── package.json
   │   └── ...
   ├── docs/
   ├── resources/
   └── README.md
   ```

### 步骤 2: 验证 Node.js 安装

打开命令行（cmd 或 PowerShell），输入：
```bash
node --version
npm --version
```

如果显示版本号（如 `v18.17.0`），说明安装成功。如果没有，请先安装 Node.js。

### 步骤 3: 安装项目依赖

1. 打开命令行
2. 使用 `cd` 命令进入 `analyzer-app` 目录：
   ```bash
   cd 项目路径\analyzer-app
   ```
   例如：
   ```bash
   cd C:\Users\YourName\Desktop\Analyzer_for_AIE1901-1\analyzer-app
   ```

3. 安装依赖：
   ```bash
   # 方法一：使用 pnpm（推荐，速度更快）
   pnpm install
   
   # 方法二：使用 npm（Node.js 自带）
   npm install
   ```

   > 💡 提示：
   > - 如果提示找不到 `pnpm`，先运行 `npm install -g pnpm`
   > - 安装过程可能需要 2-5 分钟，请耐心等待
   > - 如果网络较慢，可以使用国内镜像：
   >   ```bash
   >   npm config set registry https://registry.npmmirror.com
   >   ```

### 步骤 4: 启动开发服务器

在 `analyzer-app` 目录下运行：
```bash
# 使用 pnpm
pnpm run dev

# 或使用 npm
npm run dev
```

成功启动后，您会看到：
```
  VITE v7.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose

  ready in xxx ms.
```

### 步骤 5: 访问应用

1. 打开浏览器（Chrome、Edge、Firefox 等）
2. 在地址栏输入：`http://localhost:5173/`
3. 按回车键访问

> ⚠️ 重要提示：
> - 开发服务器运行期间，请保持命令行窗口打开
> - 关闭命令行窗口会停止服务器
> - 修改代码后，浏览器会自动刷新显示最新内容

### 步骤 6: 停止服务器

在命令行窗口中按 `Ctrl + C`（Windows）或 `Cmd + C`（Mac）停止服务器。

---

## ❓ 常见问题

### Q1: 提示 "node: command not found" 或 "不是内部或外部命令"
**原因**: Node.js 未安装或未添加到系统路径

**解决方案**:
1. 访问 https://nodejs.org/ 下载并安装 Node.js
2. 安装时选择"添加到 PATH"选项
3. 安装完成后，重启命令行工具

### Q2: 提示 "pnpm: command not found"
**原因**: pnpm 未安装

**解决方案**:
```bash
npm install -g pnpm
```

或者直接使用 npm：
```bash
npm install
npm run dev
```

### Q3: 安装依赖时很慢或失败
**原因**: 网络连接问题或使用国外镜像源

**解决方案**:
```bash
# 切换到国内镜像源
npm config set registry https://registry.npmmirror.com

# 然后重新安装
npm install
```

### Q4: 端口 5173 已被占用
**原因**: 该端口已被其他程序使用

**解决方案**:
1. 关闭占用端口的程序
2. 或修改端口（在 `analyzer-app/vite.config.ts` 中配置）

### Q5: 浏览器显示 "无法访问此网站"
**原因**: 开发服务器未启动或启动失败

**解决方案**:
1. 检查命令行窗口是否显示成功启动信息
2. 确认已进入 `analyzer-app` 目录
3. 检查是否有错误信息，根据错误信息排查

### Q6: 页面显示空白或错误
**原因**: 依赖未正确安装或代码有问题

**解决方案**:
1. 删除 `node_modules` 文件夹和 `pnpm-lock.yaml`（或 `package-lock.json`）
2. 重新运行 `pnpm install` 或 `npm install`
3. 检查命令行是否有错误信息

### Q7: Windows 系统无法执行脚本
**原因**: PowerShell 执行策略限制

**解决方案**:
以管理员身份运行 PowerShell，执行：
```powershell
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Q8: 如何查看项目是否正常运行？
**检查清单**:
- ✅ 命令行显示 "ready in xxx ms"
- ✅ 浏览器能打开 `http://localhost:5173/`
- ✅ 页面显示"数据分析师"标题和界面
- ✅ 可以上传数据或生成分布数据

---

## 📁 项目结构说明

```
Analyzer_for_AIE1901-1/
├── analyzer-app/              # 主应用目录（重要！）
│   ├── src/                   # 源代码目录
│   │   ├── components/        # React 组件
│   │   ├── App.tsx           # 主应用组件
│   │   └── main.tsx          # 入口文件
│   ├── public/               # 静态资源
│   ├── package.json          # 项目配置和依赖
│   ├── vite.config.ts        # Vite 构建配置
│   └── tsconfig.json         # TypeScript 配置
├── docs/                      # 项目文档
├── resources/                 # 资源文件（课程资料等）
└── README.md                 # 项目说明
```

> ⚠️ **重要提示**: 
> - 所有命令必须在 `analyzer-app` 目录下执行
> - 不要在主项目根目录执行命令

---

## 🎯 验证安装成功

如果一切正常，您应该能够：

1. ✅ 在浏览器中看到应用界面
2. ✅ 上传 CSV 文件
3. ✅ 生成分布数据（正态分布、均匀分布等）
4. ✅ 查看统计分析结果
5. ✅ 使用功效分析功能

---

## 📞 获取帮助

如果遇到问题：

1. **检查命令行错误信息** - 通常错误信息会指出问题所在
2. **查看本文档的常见问题部分** - 可能已有解决方案
3. **确认系统要求** - 确保 Node.js 版本正确
4. **检查网络连接** - 安装依赖需要网络

---

## 📦 构建生产版本（可选）

如果需要构建生产版本用于部署：

```bash
cd analyzer-app
pnpm run build
```

构建完成后，文件会在 `analyzer-app/dist` 目录中。

---

## ✅ 快速检查清单

在提交项目前，请确认：

- [ ] Node.js 已安装（版本 18+）
- [ ] 项目文件已完整解压
- [ ] 能够成功运行 `pnpm install` 或 `npm install`
- [ ] 能够成功运行 `pnpm run dev` 或 `npm run dev`
- [ ] 浏览器能够访问 `http://localhost:5173/`
- [ ] 应用界面正常显示
- [ ] 基本功能可以正常使用

---

**最后更新**: 2025年11月

**项目版本**: v1.0.0

